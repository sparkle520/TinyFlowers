import{_ as q,c as S,o as A,d as M,b as N,e as d,f as h,p as H,j as z,g as e,n as j,R as nt,h as p,S as _t,u as F,s as B,P,m as L,B as J,w as G,v as Q,x as $,F as Z,r as at,q as it,T as ct,t as k,a as tt,M as et,L as ot,z as c,A as st,J as lt,N as W,O as X,D as rt,C as dt,I as s,H as ut}from"./index-fb3ad169.js";import{m as U}from"./marked.esm-98d564e7.js";const mt=n=>(H("data-v-f281bfca"),n=n(),z(),n),ft={id:"note_top_main",class:"relative flex align_items_center justify_content_center"},ht=mt(()=>e("img",{class:"note_top_main_bg",src:"https://pic.imgdb.cn/item/666c45e4d9c307b7e930def6.png",alt:""},null,-1)),pt=[ht],vt={__name:"NoteTopInterface",setup(n){return S(),A(()=>{}),M(()=>{}),N(()=>{}),(a,b)=>(d(),h("div",ft,pt))}},gt=q(vt,[["__scopeId","data-v-f281bfca"]]),xt={__name:"NoteBgInterface",setup(n){return S(),A(()=>{}),N(()=>{}),(a,b)=>{const E=j("Particles");return d(),nt(E,{id:"tsparticles",options:p(_t)},null,8,["options"])}}};const bt=n=>(H("data-v-d7b0178c"),n=n(),z(),n),yt={id:"directory_list_main"},Et={class:"catalog-card"},It={class:"catalog-card-header"},Tt={class:"flex justify_content_center"},$t=bt(()=>e("div",{class:"flex flex_direction_row justify_content_center align_items_center"},[e("strong",null,"ç›®å½•ðŸŒ¼")],-1)),wt={class:"catalog-content"},kt=["onClick","title"],Lt={__name:"Directory",setup(n){const a=F(),{theme:b}=B(a),{layout:E}=B(a);a.$subscribe((_,r)=>{f(r.theme)}),A(()=>{}),M(()=>{P.off("note_data"),document.removeEventListener("scroll",y)});const y=()=>{if(i.value==null||i.value==null)return;let _=[];for(let r=i.value.length-1;r>=0;r--){const g=i.value[r];if(g.scrollTop<=window.scrollY){if(m.value.id===g.id)return;Object.assign(m.value,g),l(g,!0),_.push(g);let o=g.parent;for(;o;)l(o,!0),_.push(o),o=o.parent;for(const I of i.value)_.includes(I)||l(I,!1);return}}};N(()=>{f(b.value),P.on("note_data",()=>u()),document.addEventListener("scroll",y)});const u=()=>{i.value=v()},i=L([]);J(i,_=>{_.length>0?document.querySelector("#directory_list_main").style.display="block":document.querySelector("#directory_list_main").style.display="none"});let m=L({});function v(){let _=[],r=["h1","h2","h3","h4","h5","h6"];if(!document.querySelector(".markdown-body"))return _;let o=Array.from(document.querySelectorAll(".markdown-body *")),I=new Set(o.map(t=>t.tagName.toLowerCase()));for(let t=r.length-1;t>=0;t--)I.has(r[t])||r.splice(t,1);let D=r.map(()=>0),V=document.querySelector("#note_top_main").clientHeight+60;for(let t=0;t<o.length;t++){const w=o[t];let K=w.tagName.toLowerCase(),C=r.indexOf(K);if(C==-1)continue;let x={id:K+"-"+w.innerText+"-"+t,level:C,parent:null,children:[],rawName:w.innerText,scrollTop:w.offsetTop+V};if(_.length>0){let T=_.at(-1);if(T.level<x.level)x.parent=T,T.children.push(x);else if(T.level>x.level){D.fill(0,C+1);let O=T.parent;for(;O;){if(O.level<x.level){O.children.push(x),x.parent=O;break}O=O.parent}}else T.parent&&(x.parent=T.parent,T.parent.children.push(x))}D[C]+=1,x.isVisible=x.parent==null,x.name=w.innerText,_.push(x)}return _}const f=_=>{};function l(_,r){for(const g of _.children)g.isVisible=r}function R(_){window.scrollTo({top:_+10,behavior:"smooth"})}return(_,r)=>{const g=j("font-awesome-icon");return d(),h("div",yt,[G(e("div",Et,[e("div",It,[e("div",Tt,[e("span",null,[$(g,{icon:["fas","bars-staggered"],class:"catalog-icon"})]),$t])]),e("div",wt,[(d(!0),h(Z,null,at(i.value,o=>G((d(),h("div",{key:o.id,onClick:I=>R(o.scrollTop),class:it(["catalog-item",p(m).id==o.id?"active":"not-active"]),style:ct({paddingLeft:o.level*10+"px"}),title:o.rawName},k(o.name),15,kt)),[[Q,o.isVisible]])),128))])],512),[[Q,p(E)]])])}}},Rt=q(Lt,[["__scopeId","data-v-d7b0178c"]]);const Y=n=>(H("data-v-f20f9594"),n=n(),z(),n),Dt={id:"topic_right_main"},Vt={class:"personal_item intro flex flex_direction_column align_items_center"},Ot=["src"],Pt=["textContent"],At=["textContent"],Nt={class:"topic_class_box flex flex_direction_row"},St={class:"topic_classification_total_box flex flex_direction_column align_items_center"},Ct=Y(()=>e("h3",null,"æ–‡ç« ",-1)),jt=["textContent"],Bt=Y(()=>e("div",{class:"topic_classification_total_box flex flex_direction_column align_items_center"},[e("h3",null,"åˆ†ç±»"),e("span",null,"3")],-1)),qt={class:"topic_classification_total_box flex flex_direction_column align_items_center"},Mt=Y(()=>e("h3",null,"ç¬”è®°",-1)),Ht={__name:"NoteRightInterface",setup(n){const a=F(),b=tt(),E=et(),y=ot();S(),A(()=>{}),N(()=>{i(a.theme),u(a.layout)}),a.$subscribe((m,v)=>{i(v.theme),u(v.layout)});const u=m=>{const v=document.querySelector("#topic_right_main");m?v.style.display="block":v.style.display="none"},i=m=>{m?(c("--bg_color","#0b0e14"),c("--color","#f7f7f7"),c("--item_bg","#242b3d"),c("--item_shadow","transparent"),c("--topic_classification_color","#5e6d78"),c("--topic_classification_num_color","#b5b9d6")):(c("--bg_color","#f7f3f5"),c("--color","#4d4949"),c("--item_bg","#fff"),c("--item_shadow","#5656561b"),c("--topic_classification_color","#216eba"),c("--topic_classification_num_color","#4d4949"))};return(m,v)=>(d(),h("div",Dt,[e("div",Vt,[e("img",{src:p(b).avatar,alt:""},null,8,Ot),e("span",{class:"personal_name",textContent:k(p(b).name)},null,8,Pt),e("span",{class:"personal_signature",textContent:k(p(b).signature)},null,8,At),e("div",Nt,[e("div",St,[Ct,e("span",{textContent:k(p(E).length())},null,8,jt)]),Bt,e("div",qt,[Mt,e("span",null,k(p(y).data.length),1)])])]),$(Rt)]))}},zt=q(Ht,[["__scopeId","data-v-f20f9594"]]);const Ft=n=>(H("data-v-9464e11d"),n=n(),z(),n),Ut={id:"topic_bottom_main"},Jt={class:"note_context_switch_box flex flex_direction_row"},Gt={class:"note_switch_item flex flex_direction_column justify_content_center"},Yt={key:0},Kt={key:1},Qt={key:2},Wt={class:"note_switch_item flex flex_direction_column justify_content_center"},Xt={key:0},Zt={key:1},te={key:2},ee=Ft(()=>e("div",{id:"gitalk-container"},null,-1)),oe={__name:"NoteBottomInterface",setup(n){const{params:a}=st(),b=S(),E=F();tt(),et(),A(()=>{}),M(()=>{P.off("note_data")}),E.$subscribe((f,l)=>{v(l.theme)});const y=L(),u=L(),i=L(),m=()=>{const f=a.index-1;f==0?u.value="--":u.value=y.value.directory_list[f-1].name,f==y.value.directory_list.length-1?i.value="--":i.value=y.value.directory_list[f+1].name};N(()=>{v(E.theme),P.on("note_data",f=>{y.value=f,m(),new lt({clientID:"429076372c73a03552c6",clientSecret:"e10cf1b42cb0daf8cda1857f8f9a4ab411c4c91e",repo:"TinyFlowersComment",owner:"sparkle520",admin:["sparkle520"],id:y.value.link,language:"zh-CN",distractionFreeMode:!1,proxy:"https://strong-caramel-969805.netlify.app/github_access_token"}).render("gitalk-container")})});const v=f=>{f?(c("--topic_author_info_box_color","#788086"),c("--topic_author_info_box_bg","#1e2433"),c("--topic_author_info_inner_box_color","#f5f5f5")):(c("--topic_author_info_box_color","#b0c4de"),c("--topic_author_info_box_bg","#f8f8ff"),c("--topic_author_info_inner_box_color","#78c1f8"))};return(f,l)=>(d(),h("div",Ut,[e("div",Jt,[e("div",Gt,[u.value=="--"?(d(),h("div",Yt)):(d(),h("div",Kt,"ä¸Šä¸€ç« ")),u.value=="--"?(d(),h("div",Qt)):(d(),h("div",{key:3,onClick:l[0]||(l[0]=R=>p(b).push(`/note/book/${p(a).id}/${parseInt(p(a).index)-1}`))},k(u.value),1))]),e("div",Wt,[i.value=="--"?(d(),h("div",Xt)):(d(),h("div",Zt,"ä¸‹ä¸€ç« ")),i.value=="--"?(d(),h("div",te)):(d(),h("div",{key:3,onClick:l[1]||(l[1]=R=>p(b).push(`/note/book/${p(a).id}/${parseInt(p(a).index)+1}`))},k(i.value),1))])]),ee]))}},se=q(oe,[["__scopeId","data-v-9464e11d"]]),ne={id:"topic_main"},_e={class:"topic_container"},ae={class:"topic_content"},ie={class:"topic_text"},ce=["innerHTML"],ue={__name:"NoteInterface",setup(n){const{params:a}=st(),b=new U.Renderer,E=ot();U.setOptions({renderer:b,gfm:!1,pedantic:!1,sanitize:!0}),M(()=>{clearInterval(l)});const y=()=>{g(a.id,a.index)},u=L("");function i(){const o=document.getElementById("mathjax");ut(o)}J(u,o=>{u.value=U(o),dt(()=>{i(),r(),P.emit("note_data",E.get_note_by_id(a.id))})});const m=F(),{theme:v}=B(m),{layout:f}=B(m);m.$subscribe((o,I)=>{W(I.theme),X(I.layout)}),S(),A(()=>{});let l,R;const _=L(!1),r=()=>{l||(l=setInterval(()=>{const o=document.getElementById("mathjax");o.clientHeight!=R&&(P.emit("note_data",E.get_note_by_id(a.id)),R=o.clientHeight,_.value=!0)},1e3))};J(_,o=>{o&&clearInterval(l)}),N(()=>{W(v.value),X(f.value),y()});const g=(o,I)=>{const D=`/src/assets/note_data/${o}/${I}.md`,V=Object.assign({"/src/assets/note_data/1/1.md":()=>s(()=>import("./1-d32c4d54.js"),[]).then(t=>t.default),"/src/assets/note_data/1/2.md":()=>s(()=>import("./2-b28f20ae.js"),[]).then(t=>t.default),"/src/assets/note_data/1/3.md":()=>s(()=>import("./3-1b340cce.js"),[]).then(t=>t.default),"/src/assets/note_data/1/4.md":()=>s(()=>import("./4-b50e1e00.js"),[]).then(t=>t.default),"/src/assets/note_data/1/5.md":()=>s(()=>import("./5-ca2841c1.js"),[]).then(t=>t.default),"/src/assets/note_data/1/6.md":()=>s(()=>import("./6-d61a61b2.js"),[]).then(t=>t.default),"/src/assets/note_data/1/7.md":()=>s(()=>import("./7-ab8fbab2.js"),[]).then(t=>t.default),"/src/assets/note_data/2/1.md":()=>s(()=>import("./1-b30b38f9.js"),[]).then(t=>t.default),"/src/assets/note_data/2/10.md":()=>s(()=>import("./10-e9220a04.js"),[]).then(t=>t.default),"/src/assets/note_data/2/11.md":()=>s(()=>import("./11-e9220a04.js"),[]).then(t=>t.default),"/src/assets/note_data/2/12.md":()=>s(()=>import("./12-fa8373a2.js"),[]).then(t=>t.default),"/src/assets/note_data/2/2.md":()=>s(()=>import("./2-e9220a04.js"),[]).then(t=>t.default),"/src/assets/note_data/2/3.md":()=>s(()=>import("./3-d85cd600.js"),[]).then(t=>t.default),"/src/assets/note_data/2/4.md":()=>s(()=>import("./4-e9220a04.js"),[]).then(t=>t.default),"/src/assets/note_data/2/5.md":()=>s(()=>import("./5-d85cd600.js"),[]).then(t=>t.default),"/src/assets/note_data/2/6.md":()=>s(()=>import("./6-d85cd600.js"),[]).then(t=>t.default),"/src/assets/note_data/2/7.md":()=>s(()=>import("./7-e9220a04.js"),[]).then(t=>t.default),"/src/assets/note_data/2/8.md":()=>s(()=>import("./8-e9220a04.js"),[]).then(t=>t.default),"/src/assets/note_data/2/9.md":()=>s(()=>import("./9-e9220a04.js"),[]).then(t=>t.default),"/src/assets/note_data/3/1.md":()=>s(()=>import("./1-e9220a04.js"),[]).then(t=>t.default),"/src/assets/note_data/3/2.md":()=>s(()=>import("./2-d85cd600.js"),[]).then(t=>t.default),"/src/assets/note_data/3/3.md":()=>s(()=>import("./3-e9220a04.js"),[]).then(t=>t.default),"/src/assets/note_data/3/4.md":()=>s(()=>import("./4-d85cd600.js"),[]).then(t=>t.default),"/src/assets/note_data/3/5.md":()=>s(()=>import("./5-e9220a04.js"),[]).then(t=>t.default),"/src/assets/note_data/3/6.md":()=>s(()=>import("./6-e9220a04.js"),[]).then(t=>t.default)});for(const t in V)t==D&&V[t]().then(w=>{u.value=w})};return(o,I)=>{const D=j("TopicLeftInterface"),V=j("Utils"),t=rt("highlight");return d(),h(Z,null,[e("div",ne,[$(xt,{class:"topic_bg"}),$(gt,{class:"topic_top_interface"}),e("div",_e,[$(D),e("div",ae,[e("div",ie,[G(e("div",{innerHTML:u.value,id:"mathjax",class:"markdown-body"},null,8,ce),[[t]])]),$(se)]),$(zt)])]),$(V)],64)}}};export{ue as default};
