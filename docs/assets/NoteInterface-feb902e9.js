import{_ as C,e as d,f as u,p as B,j,g as e,c as W,o as q,b as A,n as S,Q as et,h as m,R as ot,u as M,s as N,d as F,m as O,w as G,v as Q,x as k,F as X,r as st,q as _t,S as nt,t as w,a as at,M as it,L as H,z as c,A as Z,J as ct,N as Y,O as K,H as o,C as rt,I as lt}from"./index-da3d04dd.js";import{H as dt}from"./index-b09fdae1.js";import{m as z}from"./marked.esm-98d564e7.js";const ut={},ft=s=>(B("data-v-d0beff48"),s=s(),j(),s),pt={id:"note_top_main",class:"r f a_c j_c_c"},mt=ft(()=>e("img",{class:"note_top_main_bg",src:"https://pic.imgdb.cn/item/666c45e4d9c307b7e930def6.png",alt:""},null,-1)),ht=[mt];function vt(s,i){return d(),u("div",pt,ht)}const bt=C(ut,[["render",vt],["__scopeId","data-v-d0beff48"]]),gt={__name:"NoteBgInterface",setup(s){return W(),q(()=>{}),A(()=>{}),(i,g)=>{const I=S("Particles");return d(),et(I,{id:"tsparticles",options:m(ot)},null,8,["options"])}}};const Et=s=>(B("data-v-0c5b2331"),s=s(),j(),s),yt={id:"directory_list_main"},It={class:"catalog-card"},xt={class:"catalog-card-header f"},Tt={class:"f j_c_c"},$t=Et(()=>e("div",{class:"f f_d_r j_c_c a_c"},[e("strong",null,"ç›®å½•ðŸŒ¼")],-1)),kt={class:"catalog-content"},wt=["onClick","title"],Lt={__name:"Directory",setup(s){const i=M(),{theme:g}=N(i),{layout:I}=N(i);i.$subscribe((t,r)=>{n(r.theme)}),F(()=>{document.removeEventListener("scroll",x),f.disconnect()});const x=()=>{if(_.value==null||_.value==null)return;let t=[];for(let r=_.value.length-1;r>=0;r--){const v=_.value[r];if(v.scrollTop<=window.scrollY){if(p.value.id===v.id)return;Object.assign(p.value,v),l(v,!0),t.push(v);let a=v.parent;for(;a;)l(a,!0),t.push(a),a=a.parent;for(const L of _.value)t.includes(L)||l(L,!1);return}}};let f=null;A(()=>{n(g.value),document.addEventListener("scroll",x),setTimeout(()=>{h(),f=new MutationObserver(r=>{h()});let t=document.querySelector(".markdown-body");f.observe(t,{subtree:!1,attributeFilter:["height"]})},2e3)});const h=()=>{_.value=E()},_=O([]);let p=O({});function E(){let t=[],r=["h1","h2","h3","h4","h5","h6"];if(!document.querySelector(".markdown-body"))return t;let a=Array.from(document.querySelectorAll(".markdown-body *")),L=new Set(a.map(y=>y.tagName.toLowerCase()));for(let y=r.length-1;y>=0;y--)L.has(r[y])||r.splice(y,1);let V=r.map(()=>0),tt=document.querySelector("#note_top_main").clientHeight+60;for(let y=0;y<a.length;y++){const D=a[y];let J=D.tagName.toLowerCase(),P=r.indexOf(J);if(P==-1)continue;let b={id:J+"-"+D.innerText+"-"+y,level:P,parent:null,children:[],rawName:D.innerText,scrollTop:D.offsetTop+tt};if(t.length>0){let $=t.at(-1);if($.level<b.level)b.parent=$,$.children.push(b);else if($.level>b.level){V.fill(0,P+1);let R=$.parent;for(;R;){if(R.level<b.level){R.children.push(b),b.parent=R;break}R=R.parent}}else $.parent&&(b.parent=$.parent,$.parent.children.push(b))}V[P]+=1,b.isVisible=b.parent==null,b.name=D.innerText,t.push(b)}return t}const n=t=>{};function l(t,r){for(const v of t.children)v.isVisible=r}function T(t){window.scrollTo({top:t+10,behavior:"smooth"})}return(t,r)=>{const v=S("font-awesome-icon");return d(),u("div",yt,[G(e("div",It,[e("div",xt,[e("div",Tt,[e("span",null,[k(v,{icon:["fas","bars-staggered"],class:"catalog-icon"})]),$t])]),e("div",kt,[(d(!0),u(X,null,st(_.value,a=>G((d(),u("div",{key:a.id,onClick:L=>T(a.scrollTop),class:_t(["catalog-item",m(p).id==a.id?"active":"not-active"]),style:nt({paddingLeft:a.level*10+"px"}),title:a.rawName},w(a.name),15,wt)),[[Q,a.isVisible]])),128))])],512),[[Q,m(I)]])])}}},Rt=C(Lt,[["__scopeId","data-v-0c5b2331"]]);const U=s=>(B("data-v-15ef6f0b"),s=s(),j(),s),Vt={id:"topic_right_main"},Dt={class:"personal_item intro f f_d_c a_c"},Ot=["src"],At=["textContent"],Pt=["textContent"],St={class:"topic_class_box f f_d_r"},Nt={class:"topic_classification_total_box f f_d_c a_c"},Ct=U(()=>e("h3",null,"æ–‡ç« ",-1)),Bt=["textContent"],jt=U(()=>e("div",{class:"topic_classification_total_box f f_d_c a_c"},[e("h3",null,"åˆ†ç±»"),e("span",null,"3")],-1)),qt={class:"topic_classification_total_box f f_d_c a_c"},Mt=U(()=>e("h3",null,"ç¬”è®°",-1)),zt={__name:"NoteRightInterface",setup(s){const i=M(),g=at(),I=it(),x=H();q(()=>{}),A(()=>{h(i.theme),f(i.layout)}),i.$subscribe((_,p)=>{h(p.theme),f(p.layout)});const f=_=>{const p=document.querySelector("#topic_right_main");_?p.style.display="block":p.style.display="none"},h=_=>{_?(c("--bg_color","#0b0e14"),c("--color","#f7f7f7"),c("--item_bg","#242b3d"),c("--item_shadow","transparent"),c("--topic_classification_color","#5e6d78"),c("--topic_classification_num_color","#b5b9d6")):(c("--bg_color","#f7f3f5"),c("--color","#4d4949"),c("--item_bg","#fff"),c("--item_shadow","#5656561b"),c("--topic_classification_color","#216eba"),c("--topic_classification_num_color","#4d4949"))};return(_,p)=>(d(),u("div",Vt,[e("div",Dt,[e("img",{src:m(g).avatar,alt:""},null,8,Ot),e("span",{class:"personal_name",textContent:w(m(g).name)},null,8,At),e("span",{class:"personal_signature",textContent:w(m(g).signature)},null,8,Pt),e("div",St,[e("div",Nt,[Ct,e("span",{textContent:w(m(I).length())},null,8,Bt)]),jt,e("div",qt,[Mt,e("span",null,w(m(x).data.length),1)])])]),k(Rt,{class:"directory"})]))}},Ft=C(zt,[["__scopeId","data-v-15ef6f0b"]]);const Ht=s=>(B("data-v-9b298162"),s=s(),j(),s),Ut={id:"topic_bottom_main"},Jt={class:"note_context_switch_box f f_d_r"},Gt={class:"note_switch_item f f_d_c j_c_c"},Qt={key:0},Yt={key:1},Kt={key:2},Wt={class:"note_switch_item f f_d_c j_c_c"},Xt={key:0},Zt={key:1},te={key:2},ee=Ht(()=>e("div",{id:"gitalk-container"},null,-1)),oe={__name:"NoteBottomInterface",setup(s){const{params:i}=Z(),g=W(),I=M(),x=H(),f=O({});q(()=>{f.value=x.get_note_by_id(i.id)}),F(()=>{}),I.$subscribe((n,l)=>{E(l.theme)});const h=O(),_=O(),p=()=>{const n=i.index-1;n==0?h.value="--":h.value=f.value.directory_list[n-1].name,n==f.value.directory_list.length-1?_.value="--":_.value=f.value.directory_list[n+1].name};A(()=>{E(I.theme),p(),new ct({clientID:"429076372c73a03552c6",clientSecret:"e10cf1b42cb0daf8cda1857f8f9a4ab411c4c91e",repo:"TinyFlowersComment",owner:"sparkle520",admin:["sparkle520"],id:f.value.link,language:"zh-CN",distractionFreeMode:!1,proxy:"https://strong-caramel-969805.netlify.app/github_access_token"}).render("gitalk-container")});const E=n=>{n?(c("--topic_author_info_box_color","#788086"),c("--topic_author_info_box_bg","#1e2433"),c("--topic_author_info_inner_box_color","#f5f5f5")):(c("--topic_author_info_box_color","#b0c4de"),c("--topic_author_info_box_bg","#f8f8ff"),c("--topic_author_info_inner_box_color","#78c1f8"))};return(n,l)=>(d(),u("div",Ut,[e("div",Jt,[e("div",Gt,[h.value=="--"?(d(),u("div",Qt)):(d(),u("div",Yt,"ä¸Šä¸€ç« ")),h.value=="--"?(d(),u("div",Kt)):(d(),u("div",{key:3,onClick:l[0]||(l[0]=T=>m(g).push(`/note/book/${m(i).id}/${parseInt(m(i).index)-1}`))},w(h.value),1))]),e("div",Wt,[_.value=="--"?(d(),u("div",Xt)):(d(),u("div",Zt,"ä¸‹ä¸€ç« ")),_.value=="--"?(d(),u("div",te)):(d(),u("div",{key:3,onClick:l[1]||(l[1]=T=>m(g).push(`/note/book/${m(i).id}/${parseInt(m(i).index)+1}`))},w(_.value),1))])]),ee]))}},se=C(oe,[["__scopeId","data-v-9b298162"]]),_e={id:"topic_main"},ne={class:"topic_container"},ae={class:"topic_content"},ie=e("div",{class:"topic_text"},[e("div",{id:"n_t",class:"markdown-body"})],-1),ue={__name:"NoteInterface",setup(s){const{params:i}=Z(),g=new z.Renderer;H(),z.setOptions({renderer:g,gfm:!1,pedantic:!1,sanitize:!0}),F(()=>{});const I=()=>{p(i.id,i.index)},x=M(),{theme:f}=N(x),{layout:h}=N(x);x.$subscribe((E,n)=>{Y(n.theme),K(n.layout)}),q(()=>{});const _=(E,n,l)=>{E.innerHTML=z(n,!0),l(E)};A(()=>{Y(f.value),K(h.value),I()});const p=(E,n)=>{const l=`/src/assets/note_data/${E}/${n}.md`,T=Object.assign({"/src/assets/note_data/1/1.md":()=>o(()=>import("./1-d32c4d54.js"),[]).then(t=>t.default),"/src/assets/note_data/1/2.md":()=>o(()=>import("./2-34dbbf5b.js"),[]).then(t=>t.default),"/src/assets/note_data/1/3.md":()=>o(()=>import("./3-57d09307.js"),[]).then(t=>t.default),"/src/assets/note_data/1/4.md":()=>o(()=>import("./4-b50e1e00.js"),[]).then(t=>t.default),"/src/assets/note_data/1/5.md":()=>o(()=>import("./5-ca2841c1.js"),[]).then(t=>t.default),"/src/assets/note_data/1/6.md":()=>o(()=>import("./6-d61a61b2.js"),[]).then(t=>t.default),"/src/assets/note_data/1/7.md":()=>o(()=>import("./7-ab8fbab2.js"),[]).then(t=>t.default),"/src/assets/note_data/2/1.md":()=>o(()=>import("./1-b30b38f9.js"),[]).then(t=>t.default),"/src/assets/note_data/2/10.md":()=>o(()=>import("./10-e9220a04.js"),[]).then(t=>t.default),"/src/assets/note_data/2/11.md":()=>o(()=>import("./11-e9220a04.js"),[]).then(t=>t.default),"/src/assets/note_data/2/12.md":()=>o(()=>import("./12-fa8373a2.js"),[]).then(t=>t.default),"/src/assets/note_data/2/2.md":()=>o(()=>import("./2-d85cd600.js"),[]).then(t=>t.default),"/src/assets/note_data/2/3.md":()=>o(()=>import("./3-e9220a04.js"),[]).then(t=>t.default),"/src/assets/note_data/2/4.md":()=>o(()=>import("./4-e9220a04.js"),[]).then(t=>t.default),"/src/assets/note_data/2/5.md":()=>o(()=>import("./5-e9220a04.js"),[]).then(t=>t.default),"/src/assets/note_data/2/6.md":()=>o(()=>import("./6-e9220a04.js"),[]).then(t=>t.default),"/src/assets/note_data/2/7.md":()=>o(()=>import("./7-e9220a04.js"),[]).then(t=>t.default),"/src/assets/note_data/2/8.md":()=>o(()=>import("./8-e9220a04.js"),[]).then(t=>t.default),"/src/assets/note_data/2/9.md":()=>o(()=>import("./9-e9220a04.js"),[]).then(t=>t.default),"/src/assets/note_data/3/1.md":()=>o(()=>import("./1-e9220a04.js"),[]).then(t=>t.default),"/src/assets/note_data/3/2.md":()=>o(()=>import("./2-e9220a04.js"),[]).then(t=>t.default),"/src/assets/note_data/3/3.md":()=>o(()=>import("./3-d85cd600.js"),[]).then(t=>t.default),"/src/assets/note_data/3/4.md":()=>o(()=>import("./4-d85cd600.js"),[]).then(t=>t.default),"/src/assets/note_data/3/5.md":()=>o(()=>import("./5-d85cd600.js"),[]).then(t=>t.default),"/src/assets/note_data/3/6.md":()=>o(()=>import("./6-d85cd600.js"),[]).then(t=>t.default)});for(const t in T)t==l&&T[t]().then(r=>{const v=document.querySelector("#n_t");_(v,r,a=>{rt(()=>{lt(a).catch(V=>{})}),a.querySelectorAll("pre code").forEach(V=>{dt.highlightElement(V)})})})};return(E,n)=>{const l=S("TopicLeftInterface"),T=S("Utils");return d(),u(X,null,[e("div",_e,[k(gt,{class:"topic_bg"}),k(bt,{class:"topic_top_interface"}),e("div",ne,[k(l),e("div",ae,[ie,k(se)]),k(Ft)])]),k(T)],64)}}};export{ue as default};
