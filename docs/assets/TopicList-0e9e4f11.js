import{f as s,_ as Y,i as G,u as J,o as A,a as K,j as O,k as Q,l as T,n as M,w as X,m as E,b as u,c as p,e as t,F as k,r as S,q as F,s as Z,v as tt,t as o,x as y,p as et,d as nt}from"./index-f689d197.js";import{d as i}from"./data-04c924e1.js";const I=r=>{r?(s("--bg_color","#0b0e14"),s("--color","#f7f7f7"),s("--item_bg","#242b3d"),s("--item_shadow","#242b34"),s("--title_color","#f7f7f7"),s("--title_af_bg","#a3a7c1aa"),s("--tag_box_bg","#2d3041"),s("--tag_bg","#9fa3bc"),s("--topic_classification_color","#5e6d78"),s("--topic_classification_num_color","#b5b9d6")):(s("--bg_color","#f7f3f5"),s("--color","#000000"),s("--item_bg","#ffffff"),s("--item_shadow","#cacaca4f"),s("--title_color","#173e6c"),s("--title_af_bg","#22113364"),s("--tag_box_bg","#dae6e7"),s("--tag_bg","#41a8a8"),s("--topic_classification_color","#173e6c"),s("--topic_classification_num_color","#e06530"))};const a=r=>(et("data-v-85b09fb5"),r=r(),nt(),r),st={id:"main",class:"flex flex-direction-row"},ot={class:"topic_box"},lt=["onClick"],it={class:"item_inner_box margin_2_percent flex flex_direction_column"},at={class:"relative title"},ct=["innerHTML"],_t={class:"date flex flex_direction_row justify_content_center"},rt={class:"absolute tag_box flex flex_direction_row"},dt={class:"tag"},ut={class:"personal_box flex flex_direction_column"},pt={class:"personal_item intro flex flex_direction_column align_items_center"},ft=["src"],ht=["textContent"],mt=["textContent"],xt={class:"width_full flex flex_direction_row"},gt={class:"topic_classification_total_box flex flex_direction_column align_items_center"},vt=a(()=>t("h3",null,"文章",-1)),bt=["textContent"],wt={class:"topic_classification_total_box flex flex_direction_column align_items_center"},kt=a(()=>t("h3",null,"分类",-1)),yt=["textContent"],Ct={class:"personal_item new_topic_box flex flex_direction_column align_items_center"},Lt=a(()=>t("h3",null,"最新文章",-1)),Tt={class:"flex flex_direction_column"},Mt=["onClick"],St={class:"new_topic_date"},qt={class:"personal_item classification_box flex flex_direction_column align_items_center"},$t=a(()=>t("h3",null,"分类",-1)),Bt={class:"flex flex_direction_column"},jt=a(()=>t("span",null,"学习笔记",-1)),At=a(()=>t("span",null,"技术分享",-1)),Et=a(()=>t("span",null,"生活随想",-1)),Ft=a(()=>t("span",null,"二次元",-1)),It={class:"personal_item site_info_box flex flex_direction_column align_items_center"},Wt=a(()=>t("h3",null,"网站信息",-1)),Dt={class:"flex flex_direction_column"},Pt=a(()=>t("li",null,[t("span",null,"网站名称: Tiny Flowers")],-1)),_=20,Ut={__name:"TopicList",props:{theme:Boolean,layout:Boolean},setup(r){const{params:v}=G(),h=J();A(()=>{}),K(()=>{W()});const W=()=>{window.scrollTo(0,0),I(x.theme),q(x.layout),f=Array.from(document.querySelectorAll(".topic_item")),document.addEventListener("scroll",m),m()};let f=[];const D=e=>{q(e.current_side_view)},q=e=>{const n=document.querySelector(".topic_box");e?(n.style.width="60vw",n.style.margin="100px 0 0 60px",C.value=!0):(n.style.width="80vw",n.style.margin="100px auto 0 auto",C.value=!1)};O.on("new_side_view",e=>D(e));const m=()=>{for(let e=0;e<f.length;e++){let n=f[e];n.offsetTop<=window.scrollY+900&&(n.style.opacity="1",n.classList.add("item_animation"))}},P=()=>{for(let e=0;e<f.length;e++){let n=f[e];n.style.opacity="0",n.classList.remove("item_animation")}};Q(()=>{document.removeEventListener("scroll",m)}),A(()=>{$()});const C=T(!0),L=T([]),d=T({total:0,page_size:_,current_index:v.page}),$=()=>{switch(v.classification){case"学习笔记":b(i.study,d.value.current_index);break;case"技术分享":b(i.technique,d.value.current_index);break;case"生活随想":b(i.life,d.value.current_index);break;case"二次元":b(i.acg,d.value.current_index);break}P(),M(()=>{f=Array.from(document.querySelectorAll(".topic_item")),document.addEventListener("scroll",m),m()})},b=(e,n)=>{n*_>=e.length?L.value=e.slice(n*_-_):L.value=e.slice((n-1)*_,(n-1)*_+_),d.value.total=Math.ceil(e.length/_)},U=e=>{h.push(e)},x=r;X(x,(e,n)=>{I(e.theme)});const B=e=>{switch(v.classification){case"学习笔记":h.push("/unknownWorldMap/list/学习笔记/"+e);break;case"技术分享":h.push("/unknownWorldMap/list/技术分享/"+e);break;case"生活随想":h.push("/unknownWorldMap/list/生活随想/"+e);break;case"二次元":h.push("/unknownWorldMap/list/二次元/"+e);break}M(()=>{window.scrollTo(0,0),d.value.current_index=e,$()})};let g=[];(()=>{g.push(i.life[0]),g.push(i.study[0]),g.push(i.technique[0]),g.push(i.acg[0])})();const w=e=>{v.classification=e,M(()=>{B(1)})},V=()=>"null",H=()=>"null",c={img:"https://pic.imgdb.cn/item/659e63dc871b83018a2d7de3.jpg",name:"花降らし",signature:"Dream State",topic_total:i.length(),classification_total:4,new_topic:g,site_info:{name:"Tiny Flowers",run_time:V(),last_update:H()}};return(e,n)=>{const N=E("Pagination"),R=E("Utils");return u(),p(k,null,[t("div",st,[t("div",ot,[(u(!0),p(k,null,S(L.value,(l,z)=>(u(),p("div",{onClick:j=>U(l.link),class:"topic_item flex flex_direction_column relative"},[t("div",it,[t("div",null,[t("span",at,o(l.title),1)]),t("span",{class:"short_msg",innerHTML:l.short_message},null,8,ct),t("div",_t," sparkle / "+o(l.date.split("?")[0])+" / "+o(l.date.split("?")[1])+" / "+o(l.date.split("?")[2]),1)]),t("div",rt,[(u(!0),p(k,null,S(l.tags.split("?"),(j,Ht)=>(u(),p("span",dt,o(j),1))),256))])],8,lt))),256)),F(N,{onPage_change:B,class:"pagination",data:d.value,theme:x.theme},null,8,["data","theme"])]),Z(t("div",ut,[t("div",pt,[t("img",{src:c.img,alt:""},null,8,ft),t("span",{class:"personal_name",textContent:o(c.name)},null,8,ht),t("span",{class:"personal_signature",textContent:o(c.signature)},null,8,mt),t("div",xt,[t("div",gt,[vt,t("span",{textContent:o(c.topic_total)},null,8,bt)]),t("div",wt,[kt,t("span",{textContent:o(c.classification_total)},null,8,yt)])])]),t("div",Ct,[Lt,t("ul",Tt,[(u(!0),p(k,null,S(c.new_topic,l=>(u(),p("li",{onClick:z=>e.$router.push(l.link),class:"flex flex_direction_column",key:l.id},[t("span",null,o(l.title),1),t("span",St,o(l.date.split("?")[1])+"-"+o(l.date.split("?")[0].split("月")[0])+"-"+o(l.date.split("?")[0].split("号")[0].split("月")[1]),1)],8,Mt))),128))])]),t("div",qt,[$t,t("ul",Bt,[t("li",{onClick:n[0]||(n[0]=l=>w("学习笔记")),class:"flex flex_direction_row"},[jt,t("span",null,o(y(i).study.length),1)]),t("li",{onClick:n[1]||(n[1]=l=>w("技术分享")),class:"flex flex_direction_row"},[At,t("span",null,o(y(i).technique.length),1)]),t("li",{onClick:n[2]||(n[2]=l=>w("生活随想")),class:"flex flex_direction_row"},[Et,t("span",null,o(y(i).life.length),1)]),t("li",{onClick:n[3]||(n[3]=l=>w("二次元")),class:"flex flex_direction_row"},[Ft,t("span",null,o(y(i).acg.length),1)])])]),t("div",It,[Wt,t("ul",Dt,[Pt,t("li",null,[t("span",null,"存活时间: "+o(c.site_info.run_time),1)]),t("li",null,[t("span",null,"上次更新时间: "+o(c.site_info.last_update),1)])])])],512),[[tt,C.value]])]),F(R,{theme:x.theme},null,8,["theme"])],64)}}},zt=Y(Ut,[["__scopeId","data-v-85b09fb5"]]);export{zt as default};
