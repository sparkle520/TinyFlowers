import{_ as D,c as i,d as l,p as N,g as S,e,i as z,o as R,a as w,k as A,N as W,q as p,O as X,D as C,E as M,b as j,j as L,w as J,v as G,F as Y,r as Z,n as tt,P as et,t as $,A as ot,u as _t,K as at,J as q,l as T,s as Q,H as st,L as K,B as o,x as nt,C as ct}from"./index-cce869ac.js";import{H as it}from"./index-5ea54464.js";import{m as F}from"./marked.esm-98d564e7.js";const rt={},dt=_=>(N("data-v-2a5641ed"),_=_(),S(),_),lt={id:"note_top_main",class:"r f a_c j_c_c"},ut=dt(()=>e("img",{class:"note_top_main_bg",src:"https://pic.imgdb.cn/item/666c45e4d9c307b7e930def6.png",alt:""},null,-1)),pt=[ut];function mt(_,c){return i(),l("div",lt,pt)}const ht=D(rt,[["render",mt],["__scopeId","data-v-2a5641ed"]]),ft={__name:"NoteBgInterface",setup(_){return z(),R(()=>{}),w(()=>{}),(c,v)=>{const g=A("Particles");return i(),W(g,{id:"tsparticles",options:p(X)},null,8,["options"])}}};const vt=_=>(N("data-v-a0b12e2e"),_=_(),S(),_),gt={id:"directory_list_main"},Et={class:"catalog-card"},yt=vt(()=>e("div",{class:"catalog-card-header f"},[e("div",{class:"f j_c_c"},[e("div",{class:"f f_d_r j_c_c a_c"},[e("strong",{class:"f f_d_r a_c"},[e("svg",{t:"1719710968925",class:"catalog_icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1567",width:"32",height:"32"},[e("path",{d:"M774.2976 178.5344c-18.688-8.2944-40.6016-4.7616-55.7568 8.96l-53.4528 48.4352-110.3872-139.3152c-9.8304-12.9024-25.3952-20.6336-41.5744-20.3776A51.9168 51.9168 0 0 0 471.8592 97.28l-106.496 138.8544-58.2656-50.6368c-15.5136-13.4656-36.7616-16.5888-55.4496-8.0384-18.688 8.4992-30.3104 26.5728-30.3104 47.104v205.4144c1.9456 159.2832 132.096 288.2048 291.84 288.2048s289.8944-128.9728 291.84-288.2048V225.8432c0.1024-20.4288-11.9808-39.0144-30.72-47.3088z",fill:"#EB4446",opacity:".4","p-id":"1568"}),e("path",{d:"M411.0848 910.2336c-16.9472 0-30.72-13.7728-30.72-30.72 0-72.0384-58.624-130.6624-130.6624-130.6624-46.4896 0-89.9072 25.0368-113.2032 65.3312a30.72 30.72 0 0 1-41.984 11.2128 30.72 30.72 0 0 1-11.2128-41.984c34.2528-59.2384 98.048-96 166.4-96 105.9328 0 192.1024 86.1696 192.1024 192.1024 0 16.9472-13.7216 30.72-30.72 30.72zM610.56 910.2336c-16.9472 0-30.72-13.7728-30.72-30.72 0-105.9328 86.1696-192.1024 192.1024-192.1024 68.352 0 132.096 36.8128 166.4 96a30.72 30.72 0 0 1-11.2128 41.984 30.72 30.72 0 0 1-41.984-11.2128c-23.296-40.2944-66.7136-65.3312-113.2032-65.3312-72.0384 0-130.6624 58.624-130.6624 130.6624 0 16.9472-13.7728 30.72-30.72 30.72zM513.28 940.8c-16.9472 0-30.72-13.7728-30.72-30.72v-122.88c0-16.9472 13.7728-30.72 30.72-30.72s30.72 13.7728 30.72 30.72v122.88c0 16.9984-13.7728 30.72-30.72 30.72zM629.1456 330.8544a22.96832 22.96832 0 0 0-24.7296 3.9936l-23.7056 21.504-48.9984-61.8496a22.912 22.912 0 0 0-18.432-9.0624c-7.2192 0.0512-14.0288 3.5328-18.3296 9.3184l-47.2576 61.6448-25.856-22.4768a22.74304 22.74304 0 0 0-24.6272-3.584c-8.2944 3.7888-13.4656 11.776-13.4656 20.8896V442.4192c0.8704 70.7072 58.624 127.9488 129.536 127.9488s128.6656-57.2416 129.536-127.9488V351.7952c0-9.0112-5.376-17.2544-13.6704-20.9408z",fill:"#EB4446","p-id":"1569"})]),ot("目录")])])])],-1)),It={class:"catalog-content"},bt=["onClick","title"],Tt={__name:"Directory",setup(_){const c=C(),{layout:v}=M(c);j(()=>{document.removeEventListener("scroll",g)});const g=()=>{if(s.value==null||s.value==null)return;let a=[];for(let t=s.value.length-1;t>=0;t--){const n=s.value[t];if(n.scrollTop<=window.scrollY){if(h.value.id===n.id)return;Object.assign(h.value,n),d(n,!0),a.push(n);let E=n.parent;for(;E;)d(E,!0),a.push(E),E=E.parent;for(const x of s.value)a.includes(x)||d(x,!1);return}}};let u=null;w(()=>{document.addEventListener("scroll",g),setTimeout(()=>{m(),u=new MutationObserver(t=>{m()});let a=document.querySelector(".markdown-body");u.observe(a,{subtree:!1,attributeFilter:["height"]})},2e3)});const m=()=>{s.value=r()},s=L([]);let h=L({});function r(){let a=[],t=["h1","h2","h3","h4","h5","h6"];if(!document.querySelector(".markdown-body"))return a;let E=Array.from(document.querySelectorAll(".markdown-body *")),x=new Set(E.map(y=>y.tagName.toLowerCase()));for(let y=t.length-1;y>=0;y--)x.has(t[y])||t.splice(y,1);let B=t.map(()=>0),O=document.querySelector("#note_top_main").clientHeight+60;for(let y=0;y<E.length;y++){const V=E[y];let U=V.tagName.toLowerCase(),P=t.indexOf(U);if(P==-1)continue;let f={id:U+"-"+V.innerText+"-"+y,level:P,parent:null,children:[],rawName:V.innerText,scrollTop:V.offsetTop+O};if(a.length>0){let b=a.at(-1);if(b.level<f.level)f.parent=b,b.children.push(f);else if(b.level>f.level){B.fill(0,P+1);let k=b.parent;for(;k;){if(k.level<f.level){k.children.push(f),f.parent=k;break}k=k.parent}}else b.parent&&(f.parent=b.parent,b.parent.children.push(f))}B[P]+=1,f.isVisible=f.parent==null,f.name=V.innerText,a.push(f)}return a}function d(a,t){for(const n of a.children)n.isVisible=t}function I(a){window.scrollTo({top:a+10,behavior:"smooth"})}return(a,t)=>(i(),l("div",gt,[J(e("div",Et,[yt,e("div",It,[(i(!0),l(Y,null,Z(s.value,n=>J((i(),l("div",{key:n.id,onClick:E=>I(n.scrollTop),class:tt(["catalog-item",p(h).id==n.id?"active":"not-active"]),style:et({paddingLeft:n.level*10+"px"}),title:n.rawName},$(n.name),15,bt)),[[G,n.isVisible]])),128))])],512),[[G,p(v)]])]))}},xt=D(Tt,[["__scopeId","data-v-a0b12e2e"]]);const H=_=>(N("data-v-6d48307e"),_=_(),S(),_),$t={id:"topic_right_main"},kt={class:"personal_item intro f f_d_c a_c"},wt=["src"],Vt=["textContent"],Lt=["textContent"],Dt={class:"topic_class_box f f_d_r"},Rt={class:"topic_classification_total_box f f_d_c a_c"},Ot=H(()=>e("h3",null,"文章",-1)),Pt=["textContent"],At=H(()=>e("div",{class:"topic_classification_total_box f f_d_c a_c"},[e("h3",null,"分类"),e("span",null,"3")],-1)),Nt={class:"topic_classification_total_box f f_d_c a_c"},St=H(()=>e("h3",null,"笔记",-1)),Ct={__name:"NoteRightInterface",setup(_){const c=C(),v=_t(),g=at(),u=q();R(()=>{}),w(()=>{m(c.layout)}),c.$subscribe((s,h)=>{m(h.layout)});const m=s=>{const h=document.querySelector("#topic_right_main");s?h.style.display="block":h.style.display="none"};return(s,h)=>(i(),l("div",$t,[e("div",kt,[e("img",{src:p(v).avatar,alt:""},null,8,wt),e("span",{class:"personal_name",textContent:$(p(v).name)},null,8,Vt),e("span",{class:"personal_signature",textContent:$(p(v).signature)},null,8,Lt),e("div",Dt,[e("div",Rt,[Ot,e("span",{textContent:$(p(g).length())},null,8,Pt)]),At,e("div",Nt,[St,e("span",null,$(p(u).data.length),1)])])]),T(xt,{class:"directory"})]))}},Bt=D(Ct,[["__scopeId","data-v-6d48307e"]]);const Ft=_=>(N("data-v-23e1e681"),_=_(),S(),_),Mt={id:"topic_bottom_main"},zt={class:"note_context_switch_box f f_d_r"},jt={class:"note_switch_item f f_d_c j_c_c"},qt={key:0},Ht={key:1},Ut={key:2},Jt={class:"note_switch_item f f_d_c j_c_c"},Gt={key:0},Kt={key:1},Wt={key:2},Yt=Ft(()=>e("div",{id:"gitalk-container"},null,-1)),Qt={__name:"NoteBottomInterface",setup(_){const{params:c}=Q(),v=z();C();const g=q(),u=L({});R(()=>{u.value=g.get_note_by_id(c.id)}),j(()=>{});const m=L(),s=L(),h=()=>{const r=c.index-1;r==0?m.value="--":m.value=u.value.directory_list[r-1].name,r==u.value.directory_list.length-1?s.value="--":s.value=u.value.directory_list[r+1].name};return w(()=>{h(),new st({clientID:"429076372c73a03552c6",clientSecret:"e10cf1b42cb0daf8cda1857f8f9a4ab411c4c91e",repo:"TinyFlowersComment",owner:"sparkle520",admin:["sparkle520"],id:u.value.link,language:"zh-CN",distractionFreeMode:!1,proxy:"https://strong-caramel-969805.netlify.app/github_access_token"}).render("gitalk-container")}),(r,d)=>(i(),l("div",Mt,[e("div",zt,[e("div",jt,[m.value=="--"?(i(),l("div",qt)):(i(),l("div",Ht,"上一章")),m.value=="--"?(i(),l("div",Ut)):(i(),l("div",{key:3,onClick:d[0]||(d[0]=I=>p(v).push(`/note/book/${p(c).id}/${parseInt(p(c).index)-1}`))},$(m.value),1))]),e("div",Jt,[s.value=="--"?(i(),l("div",Gt)):(i(),l("div",Kt,"下一章")),s.value=="--"?(i(),l("div",Wt)):(i(),l("div",{key:3,onClick:d[1]||(d[1]=I=>p(v).push(`/note/book/${p(c).id}/${parseInt(p(c).index)+1}`))},$(s.value),1))])]),Yt]))}},Xt=D(Qt,[["__scopeId","data-v-23e1e681"]]);const Zt={__name:"NoteFootInterface",setup(_){return z(),R(()=>{}),w(()=>{}),(c,v)=>{const g=A("PageFoot");return i(),W(g)}}},te=D(Zt,[["__scopeId","data-v-75e88bc2"]]),ee={id:"topic_main"},oe={class:"topic_container"},_e={class:"topic_content"},ae=e("div",{class:"topic_text"},[e("div",{id:"n_t",class:"markdown-body"})],-1),re={__name:"NoteInterface",setup(_){const{params:c}=Q(),v=new F.Renderer;q(),F.setOptions({renderer:v,gfm:!1,pedantic:!1,sanitize:!0}),j(()=>{});const g=()=>{h(c.id,c.index)},u=C();M(u);const{layout:m}=M(u);u.$subscribe((r,d)=>{K(d.layout)}),R(()=>{});const s=(r,d,I)=>{r.innerHTML=F(d,!0),I(r)};w(()=>{window.innerWidth>=600&&K(m.value),g()});const h=(r,d)=>{const I=`/src/store_data/note_data/${r}/${d}.md`,a=Object.assign({"/src/store_data/note_data/1/1.md":()=>o(()=>import("./1-d32c4d54.js"),[]).then(t=>t.default),"/src/store_data/note_data/1/2.md":()=>o(()=>import("./2-34dbbf5b.js"),[]).then(t=>t.default),"/src/store_data/note_data/1/3.md":()=>o(()=>import("./3-57d09307.js"),[]).then(t=>t.default),"/src/store_data/note_data/1/4.md":()=>o(()=>import("./4-b50e1e00.js"),[]).then(t=>t.default),"/src/store_data/note_data/1/5.md":()=>o(()=>import("./5-ca2841c1.js"),[]).then(t=>t.default),"/src/store_data/note_data/1/6.md":()=>o(()=>import("./6-d61a61b2.js"),[]).then(t=>t.default),"/src/store_data/note_data/1/7.md":()=>o(()=>import("./7-ab8fbab2.js"),[]).then(t=>t.default),"/src/store_data/note_data/2/1.md":()=>o(()=>import("./1-e463f04f.js"),[]).then(t=>t.default),"/src/store_data/note_data/2/10.md":()=>o(()=>import("./10-e9220a04.js"),[]).then(t=>t.default),"/src/store_data/note_data/2/11.md":()=>o(()=>import("./11-e9220a04.js"),[]).then(t=>t.default),"/src/store_data/note_data/2/12.md":()=>o(()=>import("./12-a518ee05.js"),[]).then(t=>t.default),"/src/store_data/note_data/2/2.md":()=>o(()=>import("./2-2d95b198.js"),[]).then(t=>t.default),"/src/store_data/note_data/2/3.md":()=>o(()=>import("./3-e9220a04.js"),[]).then(t=>t.default),"/src/store_data/note_data/2/4.md":()=>o(()=>import("./4-e9220a04.js"),[]).then(t=>t.default),"/src/store_data/note_data/2/5.md":()=>o(()=>import("./5-d85cd600.js"),[]).then(t=>t.default),"/src/store_data/note_data/2/6.md":()=>o(()=>import("./6-e9220a04.js"),[]).then(t=>t.default),"/src/store_data/note_data/2/7.md":()=>o(()=>import("./7-e9220a04.js"),[]).then(t=>t.default),"/src/store_data/note_data/2/8.md":()=>o(()=>import("./8-e9220a04.js"),[]).then(t=>t.default),"/src/store_data/note_data/2/9.md":()=>o(()=>import("./9-e9220a04.js"),[]).then(t=>t.default),"/src/store_data/note_data/3/1.md":()=>o(()=>import("./1-e9220a04.js"),[]).then(t=>t.default),"/src/store_data/note_data/3/2.md":()=>o(()=>import("./2-e9220a04.js"),[]).then(t=>t.default),"/src/store_data/note_data/3/3.md":()=>o(()=>import("./3-d85cd600.js"),[]).then(t=>t.default),"/src/store_data/note_data/3/4.md":()=>o(()=>import("./4-d85cd600.js"),[]).then(t=>t.default),"/src/store_data/note_data/3/5.md":()=>o(()=>import("./5-e9220a04.js"),[]).then(t=>t.default),"/src/store_data/note_data/3/6.md":()=>o(()=>import("./6-d85cd600.js"),[]).then(t=>t.default)});for(const t in a)t==I&&a[t]().then(n=>{const E=document.querySelector("#n_t");s(E,n,x=>{nt(()=>{ct(x).catch(O=>{})}),x.querySelectorAll("pre code").forEach(O=>{it.highlightElement(O)})})})};return(r,d)=>{const I=A("TopicLeftInterface"),a=A("Utils");return i(),l(Y,null,[e("div",ee,[T(ft,{class:"topic_bg"}),T(ht,{class:"topic_top_interface"}),e("div",oe,[T(I),e("div",_e,[ae,T(Xt)]),T(Bt)]),T(te)]),T(a)],64)}}};export{re as default};
