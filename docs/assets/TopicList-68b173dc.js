import{h as o,_ as ce,k as _e,u as re,l as de,m as ue,s as H,a as pe,o as N,c as fe,b as he,n as I,q as V,v as Y,d as f,e as h,g as e,F as W,r as U,w as G,x as me,y as xe,z as c,t as l,p as ve,f as ge}from"./index-98fd00e4.js";const J=m=>{m?(o("--bg_color","#0b0e14"),o("--color","#f7f7f7"),o("--item_bg","#242b3d"),o("--item_shadow","#242b34"),o("--title_color","#f7f7f7"),o("--title_af_bg","#a3a7c1aa"),o("--tag_box_bg","#2d3041"),o("--tag_bg","#9fa3bc"),o("--topic_classification_color","#5e6d78"),o("--topic_classification_num_color","#b5b9d6")):(o("--bg_color","#f7f3f5"),o("--color","#000000"),o("--item_bg","#ffffff"),o("--item_shadow","#cacaca4f"),o("--title_color","#173e6c"),o("--title_af_bg","#22113364"),o("--tag_box_bg","#dae6e7"),o("--tag_bg","#41a8a8"),o("--topic_classification_color","#173e6c"),o("--topic_classification_num_color","#e06530"))};const a=m=>(ve("data-v-a08891b3"),m=m(),ge(),m),we={id:"main",class:"flex flex-direction-row"},be={class:"topic_box"},ye=["onClick"],ke={class:"item_inner_box margin_2_percent flex flex_direction_column"},Ce={class:"relative title"},Te=["innerHTML"],Me={class:"date flex flex_direction_row justify_content_center"},$e={class:"absolute tag_box flex flex_direction_row"},Le={class:"tag"},Se={class:"personal_box flex flex_direction_column"},qe={class:"personal_item intro flex flex_direction_column align_items_center"},De=["src"],Ie=["textContent"],We=["textContent"],Ae={class:"width_full flex flex_direction_row"},Be={class:"topic_classification_total_box flex flex_direction_column align_items_center"},Ee=a(()=>e("h3",null,"文章",-1)),Fe=["textContent"],Ue={class:"topic_classification_total_box flex flex_direction_column align_items_center"},Pe=a(()=>e("h3",null,"分类",-1)),Re=["textContent"],je={class:"personal_item new_topic_box flex flex_direction_column align_items_center"},ze=a(()=>e("h3",null,"最新文章",-1)),He={class:"flex flex_direction_column"},Ne=["onClick"],Ve={class:"new_topic_date"},Ye={class:"personal_item classification_box flex flex_direction_column align_items_center"},Ge=a(()=>e("h3",null,"分类",-1)),Je={class:"flex flex_direction_column"},Ke=a(()=>e("span",null,"学习笔记",-1)),Oe=a(()=>e("span",null,"技术分享",-1)),Qe=a(()=>e("span",null,"生活随想",-1)),Xe=a(()=>e("span",null,"二次元",-1)),Ze={class:"personal_item site_info_box flex flex_direction_column align_items_center"},et=a(()=>e("h3",null,"网站信息",-1)),tt={class:"flex flex_direction_column"},st=a(()=>e("li",null,[e("span",null,"网站名称: Tiny Flowers")],-1)),r=10,K="2024-01-05 11:01:01",nt={__name:"TopicList",setup(m){const{params:A}=_e(),B=re(),i=de(),M=ue(),{theme:O}=H(B),{layout:Q}=H(B),x=pe();B.$subscribe((t,s)=>{J(s.theme),P(s.layout)}),N(()=>{}),fe(()=>{X()});const X=()=>{window.scrollTo(0,0),P(Q.value),J(O.value),v=Array.from(document.querySelectorAll(".topic_item")),document.addEventListener("scroll",w),w(),z(K)};let v=[];const P=t=>{const s=document.querySelector(".topic_box");t?(s.style.width="60vw",s.style.margin="100px 0 0 60px",E.value=!0):(s.style.width="80vw",s.style.margin="100px auto 0 auto",E.value=!1)},$=[{name:"学习笔记"},{name:"技术分享"},{name:"生活随想"},{name:"二次元"}],w=()=>{for(let t=0;t<v.length;t++){let s=v[t];s.offsetTop<=window.scrollY+900&&(s.style.opacity="1",s.classList.add("item_animation"))}},Z=()=>{for(let t=0;t<v.length;t++){let s=v[t];s.style.opacity="0",s.classList.remove("item_animation")}};he(()=>{document.removeEventListener("scroll",w),clearInterval(ne)}),N(()=>{R()});const E=I(!0),F=I([]),d=I({total:0,page_size:r,current_index:A.page}),R=()=>{switch(A.classification){case"学习笔记":L(i.study,d.value.current_index);break;case"技术分享":L(i.technique,d.value.current_index);break;case"生活随想":L(i.life,d.value.current_index);break;case"二次元":L(i.acg,d.value.current_index);break}Z(),V(()=>{v=Array.from(document.querySelectorAll(".topic_item")),document.addEventListener("scroll",w),w()})},L=(t,s)=>{s*r>=t.length?F.value=t.slice(s*r-r):F.value=t.slice((s-1)*r,(s-1)*r+r),d.value.total=Math.ceil(t.length/r)},ee=t=>{x.push(t)},te=t=>{switch(A.classification){case"学习笔记":x.push("/unknownWorldMap/list/学习笔记/"+t);break;case"技术分享":x.push("/unknownWorldMap/list/技术分享/"+t);break;case"生活随想":x.push("/unknownWorldMap/list/生活随想/"+t);break;case"二次元":x.push("/unknownWorldMap/list/二次元/"+t);break}V(()=>{window.scrollTo(0,0),d.value.current_index=t,R()})};let b=[];(()=>{b.push(i.life[0]),b.push(i.study[0]),b.push(i.technique[0]),b.push(i.acg[0])})();const S=t=>{x.push(`/unknownWorldMap/list/${t}/1`)},j=I(""),z=t=>{let s=new Date(t),g=new Date().getTime()-s.getTime(),n=Math.floor(g/(24*3600*1e3)),u=g%(24*3600*1e3),p=Math.floor(u/(3600*1e3)),y=u%(3600*1e3),k=Math.floor(y/(60*1e3));j.value=`${n}天${p}小时${k}分钟`},se=()=>{let _=[q(i.life[0].date),q(i.study[0].date),q(i.technique[0].date),q(i.acg[0].date)].sort((ie,ae)=>{let C=ae.split("-"),T=ie.split("-");return new Date(C[0],C[1]-1,C[2],C[3],C[4])-new Date(T[0],T[1]-1,T[2],T[3],T[4])})[0].split("-"),g=new Date(_[0],_[1]-1,_[2],_[3],_[4]),u=new Date().getTime()-g.getTime(),p=Math.floor(u/(24*3600*1e3)),y=u%(24*3600*1e3),k=Math.floor(y/(3600*1e3)),le=y%(3600*1e3),oe=Math.floor(le/(60*1e3));return p==0&&k<24?k===0?oe+"分钟前":k+"小时前":p+"天前"},q=t=>t.split("?")[0]+"-"+t.split("?")[1]+"-"+t.split("?")[2]+"-"+t.split("?")[3].split(":")[0]+"-"+t.split("?")[3].split(":")[1];let ne=setInterval(()=>{z(K)},6e4);const D={classification_total:4,new_topic:b,site_info:{name:"Tiny Flowers",run_time:j,last_update:se()}};return(t,s)=>{const _=Y("Pagination"),g=Y("Utils");return f(),h(W,null,[e("div",we,[e("div",be,[(f(!0),h(W,null,U(F.value,(n,u)=>(f(),h("div",{onClick:p=>ee(n.link),class:"topic_item flex flex_direction_column relative"},[e("div",ke,[e("div",null,[e("span",Ce,l(n.title),1)]),e("span",{class:"short_msg",innerHTML:n.short_message},null,8,Te),e("div",Me,l(c(M).name)+" / "+l(n.date.split("?")[1].replace(/^0+/,""))+"月"+l(n.date.split("?")[2].replace(/^0+/,""))+"日 / "+l(n.date.split("?")[0])+" / "+l(n.date.split("?")[3]),1)]),e("div",$e,[(f(!0),h(W,null,U(n.tags.split("?"),(p,y)=>(f(),h("span",Le,l(p),1))),256))])],8,ye))),256)),G(_,{onPage_change:te,class:"pagination",data:d.value},null,8,["data"])]),me(e("div",Se,[e("div",qe,[e("img",{src:c(M).avatar,alt:""},null,8,De),e("span",{class:"personal_name",textContent:l(c(M).name)},null,8,Ie),e("span",{class:"personal_signature",textContent:l(c(M).signature)},null,8,We),e("div",Ae,[e("div",Be,[Ee,e("span",{textContent:l(c(i).length())},null,8,Fe)]),e("div",Ue,[Pe,e("span",{textContent:l(D.classification_total)},null,8,Re)])])]),e("div",je,[ze,e("ul",He,[(f(!0),h(W,null,U(D.new_topic,n=>(f(),h("li",{onClick:u=>t.$router.push(n.link),class:"flex flex_direction_column",key:n.link},[e("span",null,l(n.title),1),e("span",Ve,l(n.date.split("?")[0])+"-"+l(n.date.split("?")[1])+"-"+l(n.date.split("?")[2]),1)],8,Ne))),128))])]),e("div",Ye,[Ge,e("ul",Je,[e("li",{onClick:s[0]||(s[0]=n=>S($[0].name)),class:"flex flex_direction_row"},[Ke,e("span",null,l(c(i).study.length),1)]),e("li",{onClick:s[1]||(s[1]=n=>S($[1].name)),class:"flex flex_direction_row"},[Oe,e("span",null,l(c(i).technique.length),1)]),e("li",{onClick:s[2]||(s[2]=n=>S($[2].name)),class:"flex flex_direction_row"},[Qe,e("span",null,l(c(i).life.length),1)]),e("li",{onClick:s[3]||(s[3]=n=>S($[3].name)),class:"flex flex_direction_row"},[Xe,e("span",null,l(c(i).acg.length),1)])])]),e("div",Ze,[et,e("ul",tt,[st,e("li",null,[e("span",null,"存活时间: "+l(D.site_info.run_time.value),1)]),e("li",null,[e("span",null,"上次更新时间: "+l(D.site_info.last_update),1)])])])],512),[[xe,E.value]])]),G(g)],64)}}},it=ce(nt,[["__scopeId","data-v-a08891b3"]]);export{it as default};
