import{z as _,_ as gt,A as mt,u as bt,M as yt,a as wt,s as K,c as xt,o as J,b as kt,d as Lt,m as v,B as Ct,n as Q,e as l,f as c,g as t,w as T,E as zt,G as Mt,v as D,F as p,r as g,h as r,x as W,t as a,C as Tt,k as Ht,p as qt,j as St}from"./index-da3d04dd.js";const X=b=>{b?(_("--topic_bg_color","#0b0e14"),_("--topic_bg_top","#0d1c2b"),_("--topic_list_bg","#0b0e14"),_("--color","#f7f7f7"),_("--item_bg","#242b3dc7"),_("--item_shadow","#1f2d3d26"),_("--title_color","#f7f7f7"),_("--title_af_bg","#a3a7c1aa"),_("--tag_box_bg","#2d3041c7"),_("--tag_bg","#9fa3bc"),_("--topic_classification_color","#5e6d78"),_("--topic_classification_num_color","#b5b9d6"),_("--filter_search_box_bg","#123"),_("--tag_item_bg","#242b3dc7"),_("--layout_hover","#0b0e14")):(_("--topic_bg_color","#fdfbfb"),_("--topic_bg_top","#fdfbfb"),_("--topic_list_bg","#e8f6f9"),_("--color","#393e46"),_("--item_bg","#ffffffc7"),_("--item_shadow","#1f2d3d26"),_("--title_color","#393e46"),_("--title_af_bg","#22113364"),_("--tag_box_bg","#e9696933"),_("--tag_bg","#e96969"),_("--topic_classification_color","#e96969"),_("--topic_classification_num_color","#e96969"),_("--filter_search_box_bg","#ffff"),_("--tag_item_bg","#f5f5f5"),_("--layout_hover","#F3ACAC"))};const d=b=>(qt("data-v-fd614859"),b=b(),St(),b),Vt={id:"topic_list_main",class:"f f_d_c r"},$t={class:"topic_search_box r"},jt=["onKeyup"],Dt=d(()=>t("label",{class:"search_icon a",for:"topic_search"},[t("svg",{t:"1709027338854",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"9410",width:"72",height:"72"},[t("path",{d:"M549.660444 56.888889a30.72 30.72 0 0 1 21.617778 8.988444l205.425778 205.482667c5.688889 5.688889 8.988444 13.425778 8.988444 21.560889v271.132444a244.337778 244.337778 0 0 0-316.245333 347.989334H144.327111A30.492444 30.492444 0 0 1 113.777778 881.493333V87.438222C113.777778 70.542222 127.431111 56.888889 144.327111 56.888889h405.333333zM387.811556 477.013333H212.195556a7.623111 7.623111 0 0 0-7.623112 7.68v45.795556c0 4.209778 3.413333 7.623111 7.623112 7.623111h175.616c4.209778 0 7.623111-3.413333 7.623111-7.623111V484.693333a7.623111 7.623111 0 0 0-7.623111-7.68z m190.862222-129.763555H212.195556a7.623111 7.623111 0 0 0-7.623112 7.623111v45.795555c0 4.209778 3.413333 7.623111 7.623112 7.623112h366.478222c4.209778 0 7.623111-3.413333 7.623111-7.623112v-45.795555a7.623111 7.623111 0 0 0-7.623111-7.623111z m-43.064889-219.932445v179.598223h179.655111L535.608889 127.317333z m372.394667 832.398223l-89.031112-89.031112a167.992889 167.992889 0 1 0-41.585777 38.912l90.339555 90.453334a7.395556 7.395556 0 0 0 5.347556 2.161778 7.68 7.68 0 0 0 5.347555-2.218667l29.582223-29.582222a7.566222 7.566222 0 0 0 0-10.695111z m-223.004445-83.512889a106.837333 106.837333 0 1 1 0-213.788445 106.837333 106.837333 0 1 1 0 213.788445z",fill:"#98fb98","p-id":"9411"})])],-1)),It={class:"filter_search_box a"},At={class:"f f_d_c"},Bt=["onClick"],Ft=d(()=>t("div",{class:"query_time"},[t("span",{class:"query_text"})],-1)),Et={class:"width_full f f_d_r justify_content_center gap_16 z_index_10"},Ut={class:"topic_box"},Kt={class:"layout_box f f_d_r a_c r"},Nt=d(()=>t("svg",{t:"1707409279938",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"13268",width:"22",height:"22"},[t("path",{d:"M192 304a48 48 0 0 1 48-48h544a48 48 0 0 1 0 96H240a48 48 0 0 1-48-48z",fill:"#e96969","p-id":"13269"}),t("path",{d:"M192 528a48 48 0 0 1 48-48h192a48 48 0 0 1 0 96H240a48 48 0 0 1-48-48z m352 0a48 48 0 0 1 48-48h192a48 48 0 0 1 0 96H592a48 48 0 0 1-48-48z",fill:"#e96969","p-id":"13270"}),t("path",{d:"M192 752a48 48 0 0 1 48-48h544a48 48 0 0 1 0 96H240a48 48 0 0 1-48-48z",fill:"#e96969","p-id":"13271"})],-1)),Rt=[Nt],Yt=d(()=>t("svg",{t:"1707408621772",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5142",width:"22",height:"22"},[t("path",{d:"M450.56 563.2a10.24 10.24 0 0 1 10.16832 9.04192L460.8 573.44v245.76a10.24 10.24 0 0 1-9.04192 10.16832L450.56 829.44H204.8a10.24 10.24 0 0 1-10.16832-9.04192L194.56 819.2V573.44a10.24 10.24 0 0 1 9.04192-10.16832L204.8 563.2h245.76z m368.64 0a10.24 10.24 0 0 1 10.24 10.24v245.76a10.24 10.24 0 0 1-10.24 10.24H573.44a10.24 10.24 0 0 1-10.24-10.24V573.44a10.24 10.24 0 0 1 10.24-10.24z m-378.89024 20.48h-225.28v225.28h225.28V583.68z m368.64 0h-225.28v225.28h225.28V583.68zM450.56 194.56a10.24 10.24 0 0 1 10.24 10.24v245.76a10.24 10.24 0 0 1-10.24 10.24H204.8a10.24 10.24 0 0 1-10.24-10.24V204.8a10.24 10.24 0 0 1 10.24-10.24z m368.64 0a10.24 10.24 0 0 1 10.16832 9.04192L829.44 204.8v245.76a10.24 10.24 0 0 1-9.04192 10.16832L819.2 460.8H573.44a10.24 10.24 0 0 1-10.16832-9.04192L563.2 450.56V204.8a10.24 10.24 0 0 1 9.04192-10.16832L573.44 194.56h245.76z m-378.89024 20.48h-225.28v225.28h225.28V215.04z m368.64 0h-225.28v225.28h225.28V215.04z",fill:"#e96969","p-id":"5143"})],-1)),Gt=[Yt],Ot=["onClick"],Pt={class:"item_inner_box f f_d_r"},Jt=["src"],Qt={key:1,class:"item_img",src:"https://pic.imgdb.cn/item/65c5a15f9f345e8d03c1f6a4.jpg",alt:""},Wt={class:"item_content f f_d_c"},Xt={class:"r title f f_d_r a_c"},Zt={class:"item_classification r"},te=["innerHTML"],ee={class:"date f f_d_r justify_content_center"},se={class:"a tag_box f f_d_r"},oe={class:"topic_grid_box f f_d_r"},_e={class:"topic_grid_inner_box margin_0_auto f f_d_r warp"},ae=["onClick"],ie={class:"img_box r"},le=["src"],ce={key:1,src:"https://pic.imgdb.cn/item/65c5a15f9f345e8d03c1f6a4.jpg",alt:""},ne={class:"topic_item_inner_grid f f_d_c"},re={class:"f f_d_r a_c"},de={class:"classification_box"},fe={class:"date r f f_d_r a_c"},ue={class:"topic_title"},pe=["innerHTML"],he={class:"tags_box f f_d_r"},ve={class:"personal_box f f_d_c"},ge={class:"personal_item intro f r f_d_c a_c"},me=d(()=>t("div",{class:"avatar_bg a"},null,-1)),be=["src"],ye=["textContent"],we=["textContent"],xe={class:"width_full f f_d_r"},ke={class:"topic_classification_total_box f f_d_c a_c"},Le=d(()=>t("h3",null,"文章",-1)),Ce=["textContent"],ze={class:"topic_classification_total_box f f_d_c a_c"},Me=d(()=>t("h3",null,"分类",-1)),Te=["textContent"],He={class:"personal_item new_topic_box f f_d_c a_c"},qe=d(()=>t("h3",{class:"l_title r"},"最新文章",-1)),Se={class:"f f_d_c"},Ve=["onClick"],$e={class:"new_topic_date"},je={class:"personal_item classification_box f f_d_c a_c"},De=d(()=>t("h3",{class:"l_title r"},"分类",-1)),Ie={class:"f f_d_c"},Ae=["onClick"],Be={class:"personal_item site_info_box f f_d_c a_c"},Fe=d(()=>t("h3",{class:"l_title r"},"网站信息",-1)),Ee={class:"f f_d_c"},Ue=d(()=>t("li",null,[t("span",null,"网站名称: Tiny Flowers")],-1)),Ke={class:"topic_list_foot r f f_d_r a_c justify_content_center"},Ne={class:"left_foot f f_d_c justify_content_center"},Re=d(()=>t("span",{class:"title_foot"},"人生格言",-1)),Ye=["innerHTML"],Ge=d(()=>t("div",{class:"mid_foot f f_d_c"},[t("span",{class:"title_foot"})],-1)),Oe={class:"right_foot f f_d_c justify_content_center"},Pe=d(()=>t("span",{class:"title_foot"},"联系我",-1)),Je={class:"text_foot"},Qe={class:"text_foot"},We={class:"text_foot"},m=12,Z="2024-01-05 11:01:01",Xe={__name:"TopicList",setup(b){const{params:H}=mt(),y=bt(),h=yt(),u=wt(),{theme:tt}=K(y),{layout:et}=K(y),{list_layout:I}=K(y),A=xt();y.$subscribe((e,o)=>{X(o.theme),Y(o.layout),N(o.list_layout)}),J(()=>{}),kt(()=>{_t(),document.addEventListener("click",R),document.addEventListener("scroll",B)});const st=e=>{e.classList.contains("fade_out")&&(e.classList.remove("fade_out"),e.classList.add("fade_in"))},ot=e=>{e.classList.contains("fade_in")&&(e.classList.remove("fade_in"),e.classList.add("fade_out"))},N=e=>{const o=document.querySelectorAll(".layout"),i=document.querySelector(".topic_grid_box");e?(o[0].classList.add("layout_active"),o[1].classList.remove("layout_active"),i.style.transform="translateY(-128px)",i.style.opacity=.5):(o[1].classList.add("layout_active"),o[0].classList.remove("layout_active"),i.style.transform=" translateY(0)",i.style.opacity=1)},R=e=>{document.querySelector(".topic_search_box").contains(e.target)||(L.value=!1)},_t=()=>{window.scrollTo(0,0),Y(et.value),X(tt.value),N(I.value),B(),O(Z)},Y=e=>{const o=document.querySelector(".topic_box"),i=document.querySelector(".topic_grid_inner_box");e?(o.style.width="866px",F.value=!0,i.style.width="866px"):(o.style.width="1100px",F.value=!1,i.style.width="1100px")};let w;const B=()=>{w==null&&(w=document.querySelectorAll(".topic_item"));for(let e=0;e<w.length;e++)window.scrollY>=w[e].offsetTop-window.innerHeight/1.2?st(w[e]):ot(w[e])};Lt(()=>{document.removeEventListener("scroll",B),clearInterval(dt),document.removeEventListener("click",R)}),J(()=>{at()});const F=v(!0),x=v(),k=v({total:0,page_size:m,current_index:H.page}),at=()=>{h.select_all_from_classification(H.classification),x.value=h.current_data,it(x.value,H.page)},it=(e,o)=>{o*m>=e.length?x.value=e.slice(o*m-m):x.value=e.slice((o-1)*m,(o-1)*m+m),k.value.total=e.length},E=e=>{A.push(e)},lt=e=>{A.push(`/article/list/${H.classification}/`+e),Tt(()=>{window.scrollTo(0,0),k.value.current_index=e})},ct=e=>{A.push(`/article/list/${e}/1`)},G=v(""),O=e=>{let o=new Date(e),f=new Date().getTime()-o.getTime(),s=Math.floor(f/(24*3600*1e3)),n=f%(24*3600*1e3),$=Math.floor(n/(3600*1e3)),j=n%(3600*1e3),C=Math.floor(j/(60*1e3));G.value=`${s}天${$}小时${C}分钟`},nt=()=>{let e=[];e=h.data.slice(0,4).map(U=>rt(U.create_date));let i=e.sort((U,vt)=>{let z=vt.split("-"),M=U.split("-");return new Date(z[0],z[1]-1,z[2],z[3],z[4])-new Date(M[0],M[1]-1,M[2],M[3],M[4])})[0].split("-"),f=new Date(i[0],i[1]-1,i[2],i[3],i[4]),n=new Date().getTime()-f.getTime(),$=Math.floor(n/(24*3600*1e3)),j=n%(24*3600*1e3),C=Math.floor(j/(3600*1e3)),pt=j%(3600*1e3),ht=Math.floor(pt/(60*1e3));return $==0&&C<24?C===0?ht+"分钟前":C+"小时前":$+"天前"},rt=e=>e.split("?")[0]+"-"+e.split("?")[1]+"-"+e.split("?")[2]+"-"+e.split("?")[3].split(":")[0]+"-"+e.split("?")[3].split(":")[1];let dt=setInterval(()=>{O(Z)},6e4);const q={classification_total:4,new_topic:h.data.slice(0,4),site_info:{name:"Tiny Flowers",run_time:G,last_update:nt()}},ft=e=>{window.event?e.keyCode:e.which},S=v([]),V=v();Ct(V,(e,o)=>{if(e==""){S.value=[],L.value=!1;return}L.value=!0,S.value=[];const i=performance.now();P(h.get_all(),0,e);const f=performance.now(),s=document.querySelector(".query_text"),n=f-i;s.innerHTML="查询耗时: "+n+"ms"});const P=(e,o,i)=>{if(o>e.length-1)return;i.toLowerCase();let f=Math.min(10,e.length-o);window.requestAnimationFrame(()=>{for(let s=0;s<f;s++)e[o+s].title.toLowerCase().indexOf(i)==-1&&e[o+s].tags.toLowerCase().indexOf(i)==-1||S.value.push(e[o+s]);P(e,o+f,i)})},L=v(!1),ut=()=>{V.value.length!=0&&(L.value=!0)};return(e,o)=>{const i=Q("Pagination"),f=Q("Utils");return l(),c(p,null,[t("div",Vt,[t("div",$t,[T(t("input",{id:"topic_search",class:"topic_search","onUpdate:modelValue":o[0]||(o[0]=s=>V.value=s),onFocus:ut,onInput:o[1]||(o[1]=(...s)=>e.filter_search_handle&&e.filter_search_handle(...s)),onKeyup:Mt(ft,["enter"]),type:"text",placeholder:"在此键入搜索"},null,40,jt),[[zt,V.value]]),Dt,T(t("div",It,[t("ul",At,[(l(!0),c(p,null,g(S.value,s=>(l(),c("li",{key:s,onClick:n=>E(s.link)},a(s.title),9,Bt))),128))]),Ft],512),[[D,L.value]])]),t("div",Et,[t("div",Ut,[t("div",Kt,[t("div",{class:"layout list_layout r",onClick:o[2]||(o[2]=s=>r(y).change_g_list_layout(!0))},Rt),t("div",{class:"layout f a_c j_c_c grid_layout r",onClick:o[3]||(o[3]=s=>r(y).change_g_list_layout(!1))},Gt)]),(l(!0),c(p,null,g(x.value,s=>T((l(),c("div",{onClick:n=>E(s.link),key:s,class:"topic_item fade_out f f_d_c r"},[t("div",Pt,[s.img!=""?(l(),c("img",{key:0,class:"item_img",src:s.img,alt:""},null,8,Jt)):(l(),c("img",Qt)),t("div",Wt,[t("span",Xt,[t("span",Zt,a(s.classification),1),Ht(a(s.title),1)]),t("span",{class:"short_msg",innerHTML:s.short_message},null,8,te),t("div",ee,a(r(u).name)+" / "+a(s.create_date.split("?")[1].replace(/^0+/,""))+"月"+a(s.create_date.split("?")[2].replace(/^0+/,""))+"日 / "+a(s.create_date.split("?")[0])+" / "+a(s.create_date.split("?")[3]),1)])]),t("div",se,[(l(!0),c(p,null,g(s.tags.split("?"),n=>(l(),c("span",{class:"tag",key:n},"#"+a(n),1))),128))])],8,Ot)),[[D,r(I)]])),128)),t("div",oe,[t("div",_e,[(l(!0),c(p,null,g(x.value,s=>T((l(),c("div",{onClick:n=>E(s.link),key:s,class:"topic_item_grid r"},[t("div",ie,[s.img!=""?(l(),c("img",{key:0,src:s.img,alt:""},null,8,le)):(l(),c("img",ce))]),t("div",ne,[t("div",re,[t("span",de,a(s.classification),1),t("span",fe,a(s.create_date.split("?")[0])+"-"+a(s.create_date.split("?")[1])+"-"+a(s.create_date.split("?")[2]),1)]),t("span",ue,a(s.title),1),t("span",{class:"topic_short_msg",innerHTML:s.short_message},null,8,pe),t("div",he,[(l(!0),c(p,null,g(s.tags.split("?"),n=>(l(),c("span",{class:"tag_item",key:n},"#"+a(n),1))),128))])])],8,ae)),[[D,!r(I)]])),128))])]),W(i,{current_page:k.value.current_index,page_size:k.value.page_size,onCurrent_change:lt,total:k.value.total},null,8,["current_page","page_size","total"])]),T(t("div",ve,[t("div",ge,[me,t("img",{src:r(u).avatar,class:"z_index_10",alt:""},null,8,be),t("span",{class:"personal_name z_index_10",textContent:a(r(u).name)},null,8,ye),t("span",{class:"personal_signature",textContent:a(r(u).signature)},null,8,we),t("div",xe,[t("div",ke,[Le,t("span",{textContent:a(r(h).length())},null,8,Ce)]),t("div",ze,[Me,t("span",{textContent:a(q.classification_total)},null,8,Te)])])]),t("div",He,[qe,t("ul",Se,[(l(!0),c(p,null,g(q.new_topic,s=>(l(),c("li",{onClick:n=>e.$router.push(s.link),class:"f f_d_c",key:s.link},[t("span",null,a(s.title),1),t("span",$e,a(s.create_date.split("?")[0])+"-"+a(s.create_date.split("?")[1])+"-"+a(s.create_date.split("?")[2]),1)],8,Ve))),128))])]),t("div",je,[De,t("ul",Ie,[(l(!0),c(p,null,g(r(h).classification,s=>(l(),c("li",{key:s,onClick:n=>ct(s),class:"f f_d_r"},[t("span",null,a(s),1)],8,Ae))),128))])]),t("div",Be,[Fe,t("ul",Ee,[Ue,t("li",null,[t("span",null,"存活时间: "+a(q.site_info.run_time.value),1)]),t("li",null,[t("span",null,"上次更新时间: "+a(q.site_info.last_update),1)])])])],512),[[D,F.value]])])]),W(f),t("div",Ke,[t("div",Ne,[Re,t("span",{class:"text_foot",innerHTML:r(u).aphorism},null,8,Ye)]),Ge,t("div",Oe,[Pe,t("span",Je,"邮箱: "+a(r(u).e_mail),1),t("span",Qe,"GitHub Account: "+a(r(u).github_account),1),t("span",We,"小红书ID: "+a(r(u).red_book_ID),1)])])],64)}}},ts=gt(Xe,[["__scopeId","data-v-fd614859"]]);export{ts as default};
