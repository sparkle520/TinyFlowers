import{_ as O,d as c,e as l,p as A,g as P,h as e,b as Q,o as N,a as R,k as B,P as X,s as p,Q as Z,E as S,G as M,c as z,r as L,w as U,v as G,F as W,l as tt,n as et,R as st,t as x,i as ot,u as at,L as nt,K as j,m as T,x as Y,H as _t,M as J,N as K,C as s,z as it,D as ct}from"./index-9b020f30.js";import{H as rt}from"./index-3c7543ec.js";import{m as C}from"./marked.esm-98d564e7.js";const lt={},dt=a=>(A("data-v-d514afb6"),a=a(),P(),a),ut={id:"note_top_main",class:"r f a_c j_c_c"},pt=dt(()=>e("img",{class:"note_top_main_bg",src:"https://pic.imgdb.cn/item/666c45e4d9c307b7e930def6.png",alt:""},null,-1)),mt=[pt];function ht(a,i){return c(),l("div",ut,mt)}const ft=O(lt,[["render",ht],["__scopeId","data-v-d514afb6"]]),vt={__name:"NoteBgInterface",setup(a){return Q(),N(()=>{}),R(()=>{}),(i,g)=>{const y=B("Particles");return c(),X(y,{id:"tsparticles",options:p(Z)},null,8,["options"])}}};const gt=a=>(A("data-v-a0b12e2e"),a=a(),P(),a),Et={id:"directory_list_main"},yt={class:"catalog-card"},bt=gt(()=>e("div",{class:"catalog-card-header f"},[e("div",{class:"f j_c_c"},[e("div",{class:"f f_d_r j_c_c a_c"},[e("strong",{class:"f f_d_r a_c"},[e("svg",{t:"1719710968925",class:"catalog_icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1567",width:"32",height:"32"},[e("path",{d:"M774.2976 178.5344c-18.688-8.2944-40.6016-4.7616-55.7568 8.96l-53.4528 48.4352-110.3872-139.3152c-9.8304-12.9024-25.3952-20.6336-41.5744-20.3776A51.9168 51.9168 0 0 0 471.8592 97.28l-106.496 138.8544-58.2656-50.6368c-15.5136-13.4656-36.7616-16.5888-55.4496-8.0384-18.688 8.4992-30.3104 26.5728-30.3104 47.104v205.4144c1.9456 159.2832 132.096 288.2048 291.84 288.2048s289.8944-128.9728 291.84-288.2048V225.8432c0.1024-20.4288-11.9808-39.0144-30.72-47.3088z",fill:"#EB4446",opacity:".4","p-id":"1568"}),e("path",{d:"M411.0848 910.2336c-16.9472 0-30.72-13.7728-30.72-30.72 0-72.0384-58.624-130.6624-130.6624-130.6624-46.4896 0-89.9072 25.0368-113.2032 65.3312a30.72 30.72 0 0 1-41.984 11.2128 30.72 30.72 0 0 1-11.2128-41.984c34.2528-59.2384 98.048-96 166.4-96 105.9328 0 192.1024 86.1696 192.1024 192.1024 0 16.9472-13.7216 30.72-30.72 30.72zM610.56 910.2336c-16.9472 0-30.72-13.7728-30.72-30.72 0-105.9328 86.1696-192.1024 192.1024-192.1024 68.352 0 132.096 36.8128 166.4 96a30.72 30.72 0 0 1-11.2128 41.984 30.72 30.72 0 0 1-41.984-11.2128c-23.296-40.2944-66.7136-65.3312-113.2032-65.3312-72.0384 0-130.6624 58.624-130.6624 130.6624 0 16.9472-13.7728 30.72-30.72 30.72zM513.28 940.8c-16.9472 0-30.72-13.7728-30.72-30.72v-122.88c0-16.9472 13.7728-30.72 30.72-30.72s30.72 13.7728 30.72 30.72v122.88c0 16.9984-13.7728 30.72-30.72 30.72zM629.1456 330.8544a22.96832 22.96832 0 0 0-24.7296 3.9936l-23.7056 21.504-48.9984-61.8496a22.912 22.912 0 0 0-18.432-9.0624c-7.2192 0.0512-14.0288 3.5328-18.3296 9.3184l-47.2576 61.6448-25.856-22.4768a22.74304 22.74304 0 0 0-24.6272-3.584c-8.2944 3.7888-13.4656 11.776-13.4656 20.8896V442.4192c0.8704 70.7072 58.624 127.9488 129.536 127.9488s128.6656-57.2416 129.536-127.9488V351.7952c0-9.0112-5.376-17.2544-13.6704-20.9408z",fill:"#EB4446","p-id":"1569"})]),ot("目录")])])])],-1)),It={class:"catalog-content"},Tt=["onClick","title"],xt={__name:"Directory",setup(a){const i=S(),{layout:g}=M(i);z(()=>{document.removeEventListener("scroll",y)});const y=()=>{if(n.value==null||n.value==null)return;let o=[];for(let _=n.value.length-1;_>=0;_--){const t=n.value[_];if(t.scrollTop<=window.scrollY){if(h.value.id===t.id)return;Object.assign(h.value,t),r(t,!0),o.push(t);let v=t.parent;for(;v;)r(v,!0),o.push(v),v=v.parent;for(const $ of n.value)o.includes($)||r($,!1);return}}};let d=null;R(()=>{document.addEventListener("scroll",y),setTimeout(()=>{m(),d=new MutationObserver(_=>{m()});let o=document.querySelector(".markdown-body");d.observe(o,{subtree:!1,attributeFilter:["height"]})},2e3)});const m=()=>{n.value=b()},n=L([]);let h=L({});function b(){let o=[],_=["h1","h2","h3","h4","h5","h6"];if(!document.querySelector(".markdown-body"))return o;let v=Array.from(document.querySelectorAll(".markdown-body *")),$=new Set(v.map(u=>u.tagName.toLowerCase()));for(let u=_.length-1;u>=0;u--)$.has(_[u])||_.splice(u,1);let w=_.map(()=>0),F=document.querySelector("#note_top_main").clientHeight+60;for(let u=0;u<v.length;u++){const V=v[u];let H=V.tagName.toLowerCase(),D=_.indexOf(H);if(D==-1)continue;let f={id:H+"-"+V.innerText+"-"+u,level:D,parent:null,children:[],rawName:V.innerText,scrollTop:V.offsetTop+F};if(o.length>0){let I=o.at(-1);if(I.level<f.level)f.parent=I,I.children.push(f);else if(I.level>f.level){w.fill(0,D+1);let k=I.parent;for(;k;){if(k.level<f.level){k.children.push(f),f.parent=k;break}k=k.parent}}else I.parent&&(f.parent=I.parent,I.parent.children.push(f))}w[D]+=1,f.isVisible=f.parent==null,f.name=V.innerText,o.push(f)}return o}function r(o,_){for(const t of o.children)t.isVisible=_}function E(o){window.scrollTo({top:o+10,behavior:"smooth"})}return(o,_)=>(c(),l("div",Et,[U(e("div",yt,[bt,e("div",It,[(c(!0),l(W,null,tt(n.value,t=>U((c(),l("div",{key:t.id,onClick:v=>E(t.scrollTop),class:et(["catalog-item",p(h).id==t.id?"active":"not-active"]),style:st({paddingLeft:t.level*10+"px"}),title:t.rawName},x(t.name),15,Tt)),[[G,t.isVisible]])),128))])],512),[[G,p(g)]])]))}},$t=O(xt,[["__scopeId","data-v-a0b12e2e"]]);const q=a=>(A("data-v-c9594444"),a=a(),P(),a),kt={id:"topic_right_main"},wt={class:"personal_item intro f f_d_c a_c"},Vt=["src"],Lt=["textContent"],Rt=["textContent"],Dt={class:"topic_class_box f f_d_r"},Ot={class:"topic_classification_total_box f f_d_c a_c"},At=q(()=>e("h3",null,"文章",-1)),Pt=["textContent"],Nt=q(()=>e("div",{class:"topic_classification_total_box f f_d_c a_c"},[e("h3",null,"分类"),e("span",null,"3")],-1)),St={class:"topic_classification_total_box f f_d_c a_c"},Ct=q(()=>e("h3",null,"笔记",-1)),Bt={__name:"NoteRightInterface",setup(a){const i=S(),g=at(),y=nt(),d=j();N(()=>{}),R(()=>{m(i.layout)}),i.$subscribe((n,h)=>{m(h.layout)});const m=n=>{const h=document.querySelector("#topic_right_main");n?h.style.display="block":h.style.display="none"};return(n,h)=>(c(),l("div",kt,[e("div",wt,[e("img",{src:p(g).avatar,alt:""},null,8,Vt),e("span",{class:"personal_name",textContent:x(p(g).name)},null,8,Lt),e("span",{class:"personal_signature",textContent:x(p(g).signature)},null,8,Rt),e("div",Dt,[e("div",Ot,[At,e("span",{textContent:x(p(y).length())},null,8,Pt)]),Nt,e("div",St,[Ct,e("span",null,x(p(d).data.length),1)])])]),T($t,{class:"directory"})]))}},Mt=O(Bt,[["__scopeId","data-v-c9594444"]]);const zt=a=>(A("data-v-40f829a5"),a=a(),P(),a),jt={id:"topic_bottom_main"},qt={class:"note_context_switch_box f f_d_r"},Ft={class:"note_switch_item f f_d_c j_c_c"},Ht={key:0},Ut={key:1},Gt={key:2},Jt={class:"note_switch_item f f_d_c j_c_c"},Kt={key:0},Qt={key:1},Wt={key:2},Yt=zt(()=>e("div",{id:"gitalk-container"},null,-1)),Xt={__name:"NoteBottomInterface",setup(a){const{params:i}=Y(),g=Q();S();const y=j(),d=L({});N(()=>{d.value=y.get_note_by_id(i.id)}),z(()=>{});const m=L(),n=L(),h=()=>{const b=i.index-1;b==0?m.value="--":m.value=d.value.directory_list[b-1].name,b==d.value.directory_list.length-1?n.value="--":n.value=d.value.directory_list[b+1].name};return R(()=>{h(),new _t({clientID:"429076372c73a03552c6",clientSecret:"e10cf1b42cb0daf8cda1857f8f9a4ab411c4c91e",repo:"TinyFlowersComment",owner:"sparkle520",admin:["sparkle520"],id:d.value.link,language:"zh-CN",distractionFreeMode:!1,proxy:"https://strong-caramel-969805.netlify.app/github_access_token"}).render("gitalk-container")}),(b,r)=>(c(),l("div",jt,[e("div",qt,[e("div",Ft,[m.value=="--"?(c(),l("div",Ht)):(c(),l("div",Ut,"上一章")),m.value=="--"?(c(),l("div",Gt)):(c(),l("div",{key:3,onClick:r[0]||(r[0]=E=>p(g).push(`/note/book/${p(i).id}/${parseInt(p(i).index)-1}`))},x(m.value),1))]),e("div",Jt,[n.value=="--"?(c(),l("div",Kt)):(c(),l("div",Qt,"下一章")),n.value=="--"?(c(),l("div",Wt)):(c(),l("div",{key:3,onClick:r[1]||(r[1]=E=>p(g).push(`/note/book/${p(i).id}/${parseInt(p(i).index)+1}`))},x(n.value),1))])]),Yt]))}},Zt=O(Xt,[["__scopeId","data-v-40f829a5"]]),te={id:"topic_main"},ee={class:"topic_container"},se={class:"topic_content"},oe=e("div",{class:"topic_text"},[e("div",{id:"n_t",class:"markdown-body"})],-1),ce={__name:"NoteInterface",setup(a){const{params:i}=Y(),g=new C.Renderer;j(),C.setOptions({renderer:g,gfm:!1,pedantic:!1,sanitize:!0}),z(()=>{});const y=()=>{b(i.id,i.index)},d=S(),{theme:m}=M(d),{layout:n}=M(d);d.$subscribe((r,E)=>{J(E.theme),K(E.layout)}),N(()=>{});const h=(r,E,o)=>{r.innerHTML=C(E,!0),o(r)};R(()=>{window.innerWidth>=600&&K(n.value),J(m.value),y()});const b=(r,E)=>{const o=`/src/assets/note_data/${r}/${E}.md`,_=Object.assign({"/src/assets/note_data/1/1.md":()=>s(()=>import("./1-d32c4d54.js"),[]).then(t=>t.default),"/src/assets/note_data/1/2.md":()=>s(()=>import("./2-34dbbf5b.js"),[]).then(t=>t.default),"/src/assets/note_data/1/3.md":()=>s(()=>import("./3-57d09307.js"),[]).then(t=>t.default),"/src/assets/note_data/1/4.md":()=>s(()=>import("./4-b50e1e00.js"),[]).then(t=>t.default),"/src/assets/note_data/1/5.md":()=>s(()=>import("./5-ca2841c1.js"),[]).then(t=>t.default),"/src/assets/note_data/1/6.md":()=>s(()=>import("./6-d61a61b2.js"),[]).then(t=>t.default),"/src/assets/note_data/1/7.md":()=>s(()=>import("./7-ab8fbab2.js"),[]).then(t=>t.default),"/src/assets/note_data/2/1.md":()=>s(()=>import("./1-e463f04f.js"),[]).then(t=>t.default),"/src/assets/note_data/2/10.md":()=>s(()=>import("./10-e9220a04.js"),[]).then(t=>t.default),"/src/assets/note_data/2/11.md":()=>s(()=>import("./11-e9220a04.js"),[]).then(t=>t.default),"/src/assets/note_data/2/12.md":()=>s(()=>import("./12-fa8373a2.js"),[]).then(t=>t.default),"/src/assets/note_data/2/2.md":()=>s(()=>import("./2-2d95b198.js"),[]).then(t=>t.default),"/src/assets/note_data/2/3.md":()=>s(()=>import("./3-d85cd600.js"),[]).then(t=>t.default),"/src/assets/note_data/2/4.md":()=>s(()=>import("./4-e9220a04.js"),[]).then(t=>t.default),"/src/assets/note_data/2/5.md":()=>s(()=>import("./5-d85cd600.js"),[]).then(t=>t.default),"/src/assets/note_data/2/6.md":()=>s(()=>import("./6-d85cd600.js"),[]).then(t=>t.default),"/src/assets/note_data/2/7.md":()=>s(()=>import("./7-e9220a04.js"),[]).then(t=>t.default),"/src/assets/note_data/2/8.md":()=>s(()=>import("./8-e9220a04.js"),[]).then(t=>t.default),"/src/assets/note_data/2/9.md":()=>s(()=>import("./9-e9220a04.js"),[]).then(t=>t.default),"/src/assets/note_data/3/1.md":()=>s(()=>import("./1-e9220a04.js"),[]).then(t=>t.default),"/src/assets/note_data/3/2.md":()=>s(()=>import("./2-e9220a04.js"),[]).then(t=>t.default),"/src/assets/note_data/3/3.md":()=>s(()=>import("./3-e9220a04.js"),[]).then(t=>t.default),"/src/assets/note_data/3/4.md":()=>s(()=>import("./4-d85cd600.js"),[]).then(t=>t.default),"/src/assets/note_data/3/5.md":()=>s(()=>import("./5-e9220a04.js"),[]).then(t=>t.default),"/src/assets/note_data/3/6.md":()=>s(()=>import("./6-e9220a04.js"),[]).then(t=>t.default)});for(const t in _)t==o&&_[t]().then(v=>{const $=document.querySelector("#n_t");h($,v,w=>{it(()=>{ct(w).catch(u=>{})}),w.querySelectorAll("pre code").forEach(u=>{rt.highlightElement(u)})})})};return(r,E)=>{const o=B("TopicLeftInterface"),_=B("Utils");return c(),l(W,null,[e("div",te,[T(vt,{class:"topic_bg"}),T(ft,{class:"topic_top_interface"}),e("div",ee,[T(o),e("div",se,[oe,T(Zt)]),T(Mt)])]),T(_)],64)}}};export{ce as default};
