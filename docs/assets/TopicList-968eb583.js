import{k as ct,h as o,_ as _t,l as rt,u as dt,m as ut,s as H,a as pt,o as N,c as ft,b as ht,n as D,q as V,v as G,d as f,e as h,g as t,F as I,r as F,w as Y,x as mt,y as gt,z as c,t as l,p as xt,f as vt}from"./index-c96bc6bf.js";const wt=ct("topic",{state:()=>({acg:[{id:2,title:"1Weathering With you(经典语录)",link:"/unknownWorldMap/topic/1",date:"2024?01?06?7:06",img:"https://pic.imgdb.cn/item/659d3a51871b83018a5b5766.jpg",tags:"weathering with you?天气の子",classification:"二次元",short_message:"彼女と過ごした、あの年の夏。東京の空の上で僕たちは、世界の形を決定的に変えてしまったのだ」<br>那年夏天，在那个天空之上的我们，把这个世界的样貌，彻底的改变了"}],technique:[{id:1,title:"用pinia实现全局换肤功能",link:"/unknownWorldMap/topic/3",date:"2024?01?19?21:00",img:"https://pic.imgdb.cn/item/659d3a51871b83018a5b5766.jpg",tags:"pinia?vue3",classification:"技术分享",short_message:"简易实现一下全局换肤功能"}],study:[{id:1,title:"Rust写的第一个算法",link:"/unknownWorldMap/topic/2",date:"2024?01?14?11:06",img:"",tags:"rust?algorithm",classification:"学习笔记",short_message:"Given n, take the sum of the digits of n. If that value has more than one digit..."}],life:[{id:1,title:"谈谈建站初衷",link:"/unknownWorldMap/topic/4",date:"2024?01?20?16:16",img:"https://pic.imgdb.cn/item/659d3a51871b83018a5b5766.jpg",tags:"感想",classification:"生活随想",short_message:"随便谈谈"}]}),actions:{length(){return this.life.length+this.acg.length+this.study.length+this.technique.length}}}),J=m=>{m?(o("--bg_color","#0b0e14"),o("--color","#f7f7f7"),o("--item_bg","#242b3d"),o("--item_shadow","#242b34"),o("--title_color","#f7f7f7"),o("--title_af_bg","#a3a7c1aa"),o("--tag_box_bg","#2d3041"),o("--tag_bg","#9fa3bc"),o("--topic_classification_color","#5e6d78"),o("--topic_classification_num_color","#b5b9d6")):(o("--bg_color","#f7f3f5"),o("--color","#000000"),o("--item_bg","#ffffff"),o("--item_shadow","#cacaca4f"),o("--title_color","#173e6c"),o("--title_af_bg","#22113364"),o("--tag_box_bg","#dae6e7"),o("--tag_bg","#41a8a8"),o("--topic_classification_color","#173e6c"),o("--topic_classification_num_color","#e06530"))};const a=m=>(xt("data-v-f76fe908"),m=m(),vt(),m),bt={id:"main",class:"flex flex-direction-row"},kt={class:"topic_box"},yt=["onClick"],Mt={class:"item_inner_box margin_2_percent flex flex_direction_column"},Ct={class:"relative title"},Tt=["innerHTML"],St={class:"date flex flex_direction_row justify_content_center"},$t={class:"absolute tag_box flex flex_direction_row"},Lt={class:"tag"},Wt={class:"personal_box flex flex_direction_column"},qt={class:"personal_item intro flex flex_direction_column align_items_center"},Dt=["src"],It=["textContent"],jt=["textContent"],At={class:"width_full flex flex_direction_row"},Bt={class:"topic_classification_total_box flex flex_direction_column align_items_center"},Et=a(()=>t("h3",null,"文章",-1)),Ft=["textContent"],Rt={class:"topic_classification_total_box flex flex_direction_column align_items_center"},Ut=a(()=>t("h3",null,"分类",-1)),Pt=["textContent"],zt={class:"personal_item new_topic_box flex flex_direction_column align_items_center"},Ht=a(()=>t("h3",null,"最新文章",-1)),Nt={class:"flex flex_direction_column"},Vt=["onClick"],Gt={class:"new_topic_date"},Yt={class:"personal_item classification_box flex flex_direction_column align_items_center"},Jt=a(()=>t("h3",null,"分类",-1)),Kt={class:"flex flex_direction_column"},Ot=a(()=>t("span",null,"学习笔记",-1)),Qt=a(()=>t("span",null,"技术分享",-1)),Xt=a(()=>t("span",null,"生活随想",-1)),Zt=a(()=>t("span",null,"二次元",-1)),te={class:"personal_item site_info_box flex flex_direction_column align_items_center"},ee=a(()=>t("h3",null,"网站信息",-1)),se={class:"flex flex_direction_column"},ne=a(()=>t("li",null,[t("span",null,"网站名称: Tiny Flowers")],-1)),r=10,K="2024-01-05 11:01:01",le={__name:"TopicList",setup(m){const{params:j}=rt(),A=dt(),i=wt(),T=ut(),{theme:O}=H(A),{layout:Q}=H(A),g=pt();A.$subscribe((e,s)=>{J(s.theme),R(s.layout)}),N(()=>{}),ft(()=>{X()});const X=()=>{window.scrollTo(0,0),R(Q.value),J(O.value),x=Array.from(document.querySelectorAll(".topic_item")),document.addEventListener("scroll",w),w(),z(K)};let x=[];const R=e=>{const s=document.querySelector(".topic_box");e?(s.style.width="60vw",s.style.margin="100px 0 0 60px",B.value=!0):(s.style.width="80vw",s.style.margin="100px auto 0 auto",B.value=!1)},S=[{name:"学习笔记"},{name:"技术分享"},{name:"生活随想"},{name:"二次元"}],w=()=>{for(let e=0;e<x.length;e++){let s=x[e];s.offsetTop<=window.scrollY+900&&(s.style.opacity="1",s.classList.add("item_animation"))}},Z=()=>{for(let e=0;e<x.length;e++){let s=x[e];s.style.opacity="0",s.classList.remove("item_animation")}};ht(()=>{document.removeEventListener("scroll",w),clearInterval(nt)}),N(()=>{U()});const B=D(!0),E=D([]),d=D({total:0,page_size:r,current_index:j.page}),U=()=>{switch(j.classification){case"学习笔记":$(i.study,d.value.current_index);break;case"技术分享":$(i.technique,d.value.current_index);break;case"生活随想":$(i.life,d.value.current_index);break;case"二次元":$(i.acg,d.value.current_index);break}Z(),V(()=>{x=Array.from(document.querySelectorAll(".topic_item")),document.addEventListener("scroll",w),w()})},$=(e,s)=>{s*r>=e.length?E.value=e.slice(s*r-r):E.value=e.slice((s-1)*r,(s-1)*r+r),d.value.total=Math.ceil(e.length/r)},tt=e=>{g.push(e)},et=e=>{switch(j.classification){case"学习笔记":g.push("/unknownWorldMap/list/学习笔记/"+e);break;case"技术分享":g.push("/unknownWorldMap/list/技术分享/"+e);break;case"生活随想":g.push("/unknownWorldMap/list/生活随想/"+e);break;case"二次元":g.push("/unknownWorldMap/list/二次元/"+e);break}V(()=>{window.scrollTo(0,0),d.value.current_index=e,U()})};let b=[];(()=>{b.push(i.life[0]),b.push(i.study[0]),b.push(i.technique[0]),b.push(i.acg[0])})();const L=e=>{g.push(`/unknownWorldMap/list/${e}/1`)},P=D(""),z=e=>{let s=new Date(e),v=new Date().getTime()-s.getTime(),n=Math.floor(v/(24*3600*1e3)),u=v%(24*3600*1e3),p=Math.floor(u/(3600*1e3)),k=u%(3600*1e3),y=Math.floor(k/(60*1e3));P.value=`${n}天${p}小时${y}分钟`},st=()=>{let _=[W(i.life[0].date),W(i.study[0].date),W(i.technique[0].date),W(i.acg[0].date)].sort((it,at)=>{let M=at.split("-"),C=it.split("-");return new Date(M[0],M[1]-1,M[2],M[3],M[4])-new Date(C[0],C[1]-1,C[2],C[3],C[4])})[0].split("-"),v=new Date(_[0],_[1]-1,_[2],_[3],_[4]),u=new Date().getTime()-v.getTime(),p=Math.floor(u/(24*3600*1e3)),k=u%(24*3600*1e3),y=Math.floor(k/(3600*1e3)),lt=k%(3600*1e3),ot=Math.floor(lt/(60*1e3));return p==0&&y<24?y===0?ot+"分钟前":y+"小时前":p+"天前"},W=e=>e.split("?")[0]+"-"+e.split("?")[1]+"-"+e.split("?")[2]+"-"+e.split("?")[3].split(":")[0]+"-"+e.split("?")[3].split(":")[1];let nt=setInterval(()=>{z(K)},6e4);const q={classification_total:4,new_topic:b,site_info:{name:"Tiny Flowers",run_time:P,last_update:st()}};return(e,s)=>{const _=G("Pagination"),v=G("Utils");return f(),h(I,null,[t("div",bt,[t("div",kt,[(f(!0),h(I,null,F(E.value,(n,u)=>(f(),h("div",{onClick:p=>tt(n.link),class:"topic_item flex flex_direction_column relative"},[t("div",Mt,[t("div",null,[t("span",Ct,l(n.title),1)]),t("span",{class:"short_msg",innerHTML:n.short_message},null,8,Tt),t("div",St,l(c(T).name)+" / "+l(n.date.split("?")[1].replace(/^0+/,""))+"月"+l(n.date.split("?")[2].replace(/^0+/,""))+"日 / "+l(n.date.split("?")[0])+" / "+l(n.date.split("?")[3]),1)]),t("div",$t,[(f(!0),h(I,null,F(n.tags.split("?"),(p,k)=>(f(),h("span",Lt,l(p),1))),256))])],8,yt))),256)),Y(_,{onPage_change:et,class:"pagination",data:d.value},null,8,["data"])]),mt(t("div",Wt,[t("div",qt,[t("img",{src:c(T).avatar,alt:""},null,8,Dt),t("span",{class:"personal_name",textContent:l(c(T).name)},null,8,It),t("span",{class:"personal_signature",textContent:l(c(T).signature)},null,8,jt),t("div",At,[t("div",Bt,[Et,t("span",{textContent:l(c(i).length())},null,8,Ft)]),t("div",Rt,[Ut,t("span",{textContent:l(q.classification_total)},null,8,Pt)])])]),t("div",zt,[Ht,t("ul",Nt,[(f(!0),h(I,null,F(q.new_topic,n=>(f(),h("li",{onClick:u=>e.$router.push(n.link),class:"flex flex_direction_column",key:n.link},[t("span",null,l(n.title),1),t("span",Gt,l(n.date.split("?")[1])+"-"+l(n.date.split("?")[0].split("月")[0])+"-"+l(n.date.split("?")[0].split("号")[0].split("月")[1]),1)],8,Vt))),128))])]),t("div",Yt,[Jt,t("ul",Kt,[t("li",{onClick:s[0]||(s[0]=n=>L(S[0].name)),class:"flex flex_direction_row"},[Ot,t("span",null,l(c(i).study.length),1)]),t("li",{onClick:s[1]||(s[1]=n=>L(S[1].name)),class:"flex flex_direction_row"},[Qt,t("span",null,l(c(i).technique.length),1)]),t("li",{onClick:s[2]||(s[2]=n=>L(S[2].name)),class:"flex flex_direction_row"},[Xt,t("span",null,l(c(i).life.length),1)]),t("li",{onClick:s[3]||(s[3]=n=>L(S[3].name)),class:"flex flex_direction_row"},[Zt,t("span",null,l(c(i).acg.length),1)])])]),t("div",te,[ee,t("ul",se,[ne,t("li",null,[t("span",null,"存活时间: "+l(q.site_info.run_time.value),1)]),t("li",null,[t("span",null,"上次更新时间: "+l(q.site_info.last_update),1)])])])],512),[[gt,B.value]])]),Y(v)],64)}}},ae=_t(le,[["__scopeId","data-v-f76fe908"]]);export{ae as default};
