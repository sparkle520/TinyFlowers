import{f as l,_ as nt,i as st,u as lt,o as H,a as ot,j as N,k as it,l as D,n as R,w as at,m as z,b as p,c as f,e as t,F as S,r as E,q as Y,s as ct,v as _t,t as o,x as B,p as rt,d as dt}from"./index-2c997981.js";import{d as i}from"./data-04c924e1.js";const G=d=>{d?(l("--bg_color","#0b0e14"),l("--color","#f7f7f7"),l("--item_bg","#242b3d"),l("--item_shadow","#242b34"),l("--title_color","#f7f7f7"),l("--title_af_bg","#a3a7c1aa"),l("--tag_box_bg","#2d3041"),l("--tag_bg","#9fa3bc"),l("--topic_classification_color","#5e6d78"),l("--topic_classification_num_color","#b5b9d6")):(l("--bg_color","#f7f3f5"),l("--color","#000000"),l("--item_bg","#ffffff"),l("--item_shadow","#cacaca4f"),l("--title_color","#173e6c"),l("--title_af_bg","#22113364"),l("--tag_box_bg","#dae6e7"),l("--tag_bg","#41a8a8"),l("--topic_classification_color","#173e6c"),l("--topic_classification_num_color","#e06530"))};const a=d=>(rt("data-v-3cf8972d"),d=d(),dt(),d),ut={id:"main",class:"flex flex-direction-row"},pt={class:"topic_box"},ft=["onClick"],mt={class:"item_inner_box margin_2_percent flex flex_direction_column"},ht={class:"relative title"},xt=["innerHTML"],gt={class:"date flex flex_direction_row justify_content_center"},vt={class:"absolute tag_box flex flex_direction_row"},wt={class:"tag"},bt={class:"personal_box flex flex_direction_column"},yt={class:"personal_item intro flex flex_direction_column align_items_center"},kt=["src"],Ct=["textContent"],Tt=["textContent"],Mt={class:"width_full flex flex_direction_row"},Lt={class:"topic_classification_total_box flex flex_direction_column align_items_center"},$t=a(()=>t("h3",null,"文章",-1)),qt=["textContent"],Dt={class:"topic_classification_total_box flex flex_direction_column align_items_center"},St=a(()=>t("h3",null,"分类",-1)),Bt=["textContent"],It={class:"personal_item new_topic_box flex flex_direction_column align_items_center"},Wt=a(()=>t("h3",null,"最新文章",-1)),jt={class:"flex flex_direction_column"},At=["onClick"],Et={class:"new_topic_date"},Ft={class:"personal_item classification_box flex flex_direction_column align_items_center"},Pt=a(()=>t("h3",null,"分类",-1)),Ut={class:"flex flex_direction_column"},Vt=a(()=>t("span",null,"学习笔记",-1)),Ht=a(()=>t("span",null,"技术分享",-1)),Nt=a(()=>t("span",null,"生活随想",-1)),Rt=a(()=>t("span",null,"二次元",-1)),zt={class:"personal_item site_info_box flex flex_direction_column align_items_center"},Yt=a(()=>t("h3",null,"网站信息",-1)),Gt={class:"flex flex_direction_column"},Jt=a(()=>t("li",null,[t("span",null,"网站名称: Tiny Flowers")],-1)),r=20,J="2024-01-05 11:01:01",Kt={__name:"TopicList",props:{theme:Boolean,layout:Boolean},setup(d){const{params:I}=st(),m=lt();H(()=>{}),ot(()=>{K(),N.on("new_side_view",e=>O(e))});const K=()=>{window.scrollTo(0,0),G(w.theme),F(w.layout),h=Array.from(document.querySelectorAll(".topic_item")),document.addEventListener("scroll",v),v(),V(J)};let h=[];const O=e=>{F(e.current_side_view)},F=e=>{const n=document.querySelector(".topic_box");e?(n.style.width="60vw",n.style.margin="100px 0 0 60px",W.value=!0):(n.style.width="80vw",n.style.margin="100px auto 0 auto",W.value=!1)},T=[{name:"学习笔记"},{name:"技术分享"},{name:"生活随想"},{name:"二次元"}],v=()=>{for(let e=0;e<h.length;e++){let n=h[e];n.offsetTop<=window.scrollY+900&&(n.style.opacity="1",n.classList.add("item_animation"))}},Q=()=>{for(let e=0;e<h.length;e++){let n=h[e];n.style.opacity="0",n.classList.remove("item_animation")}};it(()=>{document.removeEventListener("scroll",v),clearInterval(et),N.off("new_side_view")}),H(()=>{P()});const W=D(!0),j=D([]),u=D({total:0,page_size:r,current_index:I.page}),P=()=>{switch(I.classification){case"学习笔记":M(i.study,u.value.current_index);break;case"技术分享":M(i.technique,u.value.current_index);break;case"生活随想":M(i.life,u.value.current_index);break;case"二次元":M(i.acg,u.value.current_index);break}Q(),R(()=>{h=Array.from(document.querySelectorAll(".topic_item")),document.addEventListener("scroll",v),v()})},M=(e,n)=>{n*r>=e.length?j.value=e.slice(n*r-r):j.value=e.slice((n-1)*r,(n-1)*r+r),u.value.total=Math.ceil(e.length/r)},X=e=>{m.push(e)},w=d;at(w,(e,n)=>{G(e.theme)});const Z=e=>{switch(I.classification){case"学习笔记":m.push("/unknownWorldMap/list/学习笔记/"+e);break;case"技术分享":m.push("/unknownWorldMap/list/技术分享/"+e);break;case"生活随想":m.push("/unknownWorldMap/list/生活随想/"+e);break;case"二次元":m.push("/unknownWorldMap/list/二次元/"+e);break}R(()=>{window.scrollTo(0,0),u.value.current_index=e,P()})};let b=[];(()=>{b.push(i.life[0]),b.push(i.study[0]),b.push(i.technique[0]),b.push(i.acg[0])})();const L=e=>{m.push(`/unknownWorldMap/list/${e}/1`)},U=D(""),V=e=>{let n=new Date(e),x=new Date().getTime()-n.getTime(),s=Math.floor(x/(24*3600*1e3)),g=x%(24*3600*1e3),y=Math.floor(g/(3600*1e3)),q=g%(3600*1e3),A=Math.floor(q/(60*1e3));U.value=`${s}天${y}小时${A}分钟`},tt=()=>{let _=[$(i.life[0].date),$(i.study[0].date),$(i.technique[0].date),$(i.acg[0].date)].sort((q,A)=>{let k=A.split("-"),C=q.split("-");return new Date(k[0],k[1]-1,k[2],k[3],k[4])-new Date(C[0],C[1]-1,C[2],C[3],C[4])})[0].split("-"),x=new Date(_[0],_[1]-1,_[2],_[3],_[4]),g=new Date().getTime()-x.getTime();return Math.floor(g/(24*3600*1e3))+"天前"},$=e=>e.split("?")[1]+"-"+e.split("?")[0].split("月")[0]+"-"+e.split("?")[0].split("月")[1].split("号")[0]+"-"+e.split("?")[2].split(":")[0]+"-"+e.split("?")[2].split(":")[1];let et=setInterval(()=>{V(J)},6e4);const c={img:"https://pic.imgdb.cn/item/659e63dc871b83018a2d7de3.jpg",name:"花降らし",signature:"人一旦失去重要的东西，就很难再获得了",topic_total:i.length(),classification_total:4,new_topic:b,site_info:{name:"Tiny Flowers",run_time:U,last_update:tt()}};return(e,n)=>{const _=z("Pagination"),x=z("Utils");return p(),f(S,null,[t("div",ut,[t("div",pt,[(p(!0),f(S,null,E(j.value,(s,g)=>(p(),f("div",{onClick:y=>X(s.link),class:"topic_item flex flex_direction_column relative"},[t("div",mt,[t("div",null,[t("span",ht,o(s.title),1)]),t("span",{class:"short_msg",innerHTML:s.short_message},null,8,xt),t("div",gt," sparkle / "+o(s.date.split("?")[0])+" / "+o(s.date.split("?")[1])+" / "+o(s.date.split("?")[2]),1)]),t("div",vt,[(p(!0),f(S,null,E(s.tags.split("?"),(y,q)=>(p(),f("span",wt,o(y),1))),256))])],8,ft))),256)),Y(_,{onPage_change:Z,class:"pagination",data:u.value,theme:w.theme},null,8,["data","theme"])]),ct(t("div",bt,[t("div",yt,[t("img",{src:c.img,alt:""},null,8,kt),t("span",{class:"personal_name",textContent:o(c.name)},null,8,Ct),t("span",{class:"personal_signature",textContent:o(c.signature)},null,8,Tt),t("div",Mt,[t("div",Lt,[$t,t("span",{textContent:o(c.topic_total)},null,8,qt)]),t("div",Dt,[St,t("span",{textContent:o(c.classification_total)},null,8,Bt)])])]),t("div",It,[Wt,t("ul",jt,[(p(!0),f(S,null,E(c.new_topic,s=>(p(),f("li",{onClick:g=>e.$router.push(s.link),class:"flex flex_direction_column",key:s.link},[t("span",null,o(s.title),1),t("span",Et,o(s.date.split("?")[1])+"-"+o(s.date.split("?")[0].split("月")[0])+"-"+o(s.date.split("?")[0].split("号")[0].split("月")[1]),1)],8,At))),128))])]),t("div",Ft,[Pt,t("ul",Ut,[t("li",{onClick:n[0]||(n[0]=s=>L(T[0].name)),class:"flex flex_direction_row"},[Vt,t("span",null,o(B(i).study.length),1)]),t("li",{onClick:n[1]||(n[1]=s=>L(T[1].name)),class:"flex flex_direction_row"},[Ht,t("span",null,o(B(i).technique.length),1)]),t("li",{onClick:n[2]||(n[2]=s=>L(T[2].name)),class:"flex flex_direction_row"},[Nt,t("span",null,o(B(i).life.length),1)]),t("li",{onClick:n[3]||(n[3]=s=>L(T[3].name)),class:"flex flex_direction_row"},[Rt,t("span",null,o(B(i).acg.length),1)])])]),t("div",zt,[Yt,t("ul",Gt,[Jt,t("li",null,[t("span",null,"存活时间: "+o(c.site_info.run_time.value),1)]),t("li",null,[t("span",null,"上次更新时间: "+o(c.site_info.last_update),1)])])])],512),[[_t,W.value]])]),Y(x,{theme:w.theme},null,8,["theme"])],64)}}},Zt=nt(Kt,[["__scopeId","data-v-3cf8972d"]]);export{Zt as default};
