import{_ as W,h as j,u as q,o as k,a as C,i as N,j as w,n as y,w as S,k as V,b as _,c as d,d as l,F as L,r as T,l as F,t as u}from"./index-959eb464.js";import{d as m}from"./data-61ea2e65.js";const H={id:"main"},R={class:"topic_box"},z=["onClick"],D={class:"item_inner_box margin_2_percent flex flex_direction_column"},I={class:"relative title"},U=["innerHTML"],Y={class:"data flex flex_direction_row justify_content_center"},$={class:"absolute tag_box flex flex_direction_row"},G={class:"tag"},s=20,J={__name:"TopicList",props:{theme:Boolean},setup(M){const{params:g}=j(),i=q();k(()=>{}),C(()=>{window.scrollTo(0,0),b(h.theme),c=Array.from(document.querySelectorAll(".topic_item")),document.addEventListener("scroll",r),r()});let c=[];const r=()=>{for(let e=0;e<c.length;e++){let o=c[e];o.offsetTop<=window.scrollY+900&&(o.style.opacity="1",o.classList.add("item_animation"))}},B=()=>{for(let e=0;e<c.length;e++){let o=c[e];o.style.opacity="0",o.classList.remove("item_animation")}};N(()=>{document.removeEventListener("scroll",r)}),k(()=>{v()});const p=w([]),a=w({total:0,page_size:s,current_index:g.page}),v=()=>{switch(g.classification){case"学习笔记":f(m.study,a.value.current_index);break;case"技术分享":f(m.technique,a.value.current_index);break;case"生活随想":f(m.life,a.value.current_index);break;case"二次元":f(m.acg,a.value.current_index);break}B(),y(()=>{c=Array.from(document.querySelectorAll(".topic_item")),document.addEventListener("scroll",r),r()})},f=(e,o)=>{console.log(o),o*s>=e.length?(p.value=e.slice(o*s-s),console.log(e.length),console.log(p.value)):(p.value=e.slice((o-1)*s,(o-1)*s+s),console.log(e.length)),a.value.total=Math.ceil(e.length/s)},E=e=>{i.push(e)},h=M;S(h,(e,o)=>{b(e.theme)});const b=e=>{e?(t("--bg_color","#0b0e14"),t("--color","#f7f7f7"),t("--item_bg","#242b3d"),t("--item_shadow","#242b34"),t("--title_color","#f7f7f7"),t("--title_af_bg","#a3a7c1aa"),t("--tag_box_bg","#2d3041"),t("--tag_bg","#9fa3bc")):(t("--bg_color","#f7f3f5"),t("--color","#000000"),t("--item_bg","#ffffff"),t("--item_shadow","#cacaca4f"),t("--title_color","#173e6c"),t("--title_af_bg","#22113364"),t("--tag_box_bg","#dae6e7"),t("--tag_bg","#41a8a8"))},A=e=>{switch(g.classification){case"学习笔记":i.push("/unknownWorldMap/list/学习笔记/"+e);break;case"技术分享":i.push("/unknownWorldMap/list/技术分享/"+e);break;case"生活随想":i.push("/unknownWorldMap/list/生活随想/"+e);break;case"二次元":i.push("/unknownWorldMap/list/二次元/"+e);break}y(()=>{window.scrollTo(0,0),a.value.current_index=e,v()})},t=(e,o)=>{document.getElementsByTagName("body")[0].style.setProperty(e,o)};return(e,o)=>{const P=V("Pagination");return _(),d("div",H,[l("div",R,[(_(!0),d(L,null,T(p.value,(n,K)=>(_(),d("div",{onClick:x=>E(n.link),class:"topic_item flex flex_direction_column relative"},[l("div",D,[l("div",null,[l("span",I,u(n.title),1)]),l("span",{class:"short_msg",innerHTML:n.short_message},null,8,U),l("div",Y," sparkle / "+u(n.data.split("?")[0])+" / "+u(n.data.split("?")[1])+" / "+u(n.data.split("?")[2]),1)]),l("div",$,[(_(!0),d(L,null,T(n.tags.split("?"),(x,O)=>(_(),d("span",G,u(x),1))),256))])],8,z))),256)),F(P,{onPage_change:A,class:"pagination",data:a.value,theme:h.theme},null,8,["data","theme"])])])}}},Z=W(J,[["__scopeId","data-v-4d519022"]]);export{Z as default};
