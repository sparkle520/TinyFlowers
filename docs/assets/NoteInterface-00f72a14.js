import{_ as R,c as i,d,p as N,g as S,e,i as F,o as O,a as w,k as A,O as W,q as p,P as Z,D as C,E as M,b as z,j as D,w as J,v as G,F as Y,r as tt,n as et,Q as ot,t as x,A as _t,u as at,K as st,J as j,l as T,s as X,H as nt,L as K,M as Q,B as o,x as ct,C as it}from"./index-1c0f91e6.js";import{H as rt}from"./index-46d450ba.js";import{m as B}from"./marked.esm-98d564e7.js";const dt={},lt=_=>(N("data-v-2a5641ed"),_=_(),S(),_),ut={id:"note_top_main",class:"r f a_c j_c_c"},pt=lt(()=>e("img",{class:"note_top_main_bg",src:"https://pic.imgdb.cn/item/666c45e4d9c307b7e930def6.png",alt:""},null,-1)),mt=[pt];function ht(_,c){return i(),d("div",ut,mt)}const ft=R(dt,[["render",ht],["__scopeId","data-v-2a5641ed"]]),vt={__name:"NoteBgInterface",setup(_){return F(),O(()=>{}),w(()=>{}),(c,v)=>{const g=A("Particles");return i(),W(g,{id:"tsparticles",options:p(Z)},null,8,["options"])}}};const gt=_=>(N("data-v-a0b12e2e"),_=_(),S(),_),Et={id:"directory_list_main"},yt={class:"catalog-card"},It=gt(()=>e("div",{class:"catalog-card-header f"},[e("div",{class:"f j_c_c"},[e("div",{class:"f f_d_r j_c_c a_c"},[e("strong",{class:"f f_d_r a_c"},[e("svg",{t:"1719710968925",class:"catalog_icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1567",width:"32",height:"32"},[e("path",{d:"M774.2976 178.5344c-18.688-8.2944-40.6016-4.7616-55.7568 8.96l-53.4528 48.4352-110.3872-139.3152c-9.8304-12.9024-25.3952-20.6336-41.5744-20.3776A51.9168 51.9168 0 0 0 471.8592 97.28l-106.496 138.8544-58.2656-50.6368c-15.5136-13.4656-36.7616-16.5888-55.4496-8.0384-18.688 8.4992-30.3104 26.5728-30.3104 47.104v205.4144c1.9456 159.2832 132.096 288.2048 291.84 288.2048s289.8944-128.9728 291.84-288.2048V225.8432c0.1024-20.4288-11.9808-39.0144-30.72-47.3088z",fill:"#EB4446",opacity:".4","p-id":"1568"}),e("path",{d:"M411.0848 910.2336c-16.9472 0-30.72-13.7728-30.72-30.72 0-72.0384-58.624-130.6624-130.6624-130.6624-46.4896 0-89.9072 25.0368-113.2032 65.3312a30.72 30.72 0 0 1-41.984 11.2128 30.72 30.72 0 0 1-11.2128-41.984c34.2528-59.2384 98.048-96 166.4-96 105.9328 0 192.1024 86.1696 192.1024 192.1024 0 16.9472-13.7216 30.72-30.72 30.72zM610.56 910.2336c-16.9472 0-30.72-13.7728-30.72-30.72 0-105.9328 86.1696-192.1024 192.1024-192.1024 68.352 0 132.096 36.8128 166.4 96a30.72 30.72 0 0 1-11.2128 41.984 30.72 30.72 0 0 1-41.984-11.2128c-23.296-40.2944-66.7136-65.3312-113.2032-65.3312-72.0384 0-130.6624 58.624-130.6624 130.6624 0 16.9472-13.7728 30.72-30.72 30.72zM513.28 940.8c-16.9472 0-30.72-13.7728-30.72-30.72v-122.88c0-16.9472 13.7728-30.72 30.72-30.72s30.72 13.7728 30.72 30.72v122.88c0 16.9984-13.7728 30.72-30.72 30.72zM629.1456 330.8544a22.96832 22.96832 0 0 0-24.7296 3.9936l-23.7056 21.504-48.9984-61.8496a22.912 22.912 0 0 0-18.432-9.0624c-7.2192 0.0512-14.0288 3.5328-18.3296 9.3184l-47.2576 61.6448-25.856-22.4768a22.74304 22.74304 0 0 0-24.6272-3.584c-8.2944 3.7888-13.4656 11.776-13.4656 20.8896V442.4192c0.8704 70.7072 58.624 127.9488 129.536 127.9488s128.6656-57.2416 129.536-127.9488V351.7952c0-9.0112-5.376-17.2544-13.6704-20.9408z",fill:"#EB4446","p-id":"1569"})]),_t("目录")])])])],-1)),bt={class:"catalog-content"},Tt=["onClick","title"],xt={__name:"Directory",setup(_){const c=C(),{layout:v}=M(c);z(()=>{document.removeEventListener("scroll",g)});const g=()=>{if(s.value==null||s.value==null)return;let a=[];for(let n=s.value.length-1;n>=0;n--){const t=s.value[n];if(t.scrollTop<=window.scrollY){if(h.value.id===t.id)return;Object.assign(h.value,t),r(t,!0),a.push(t);let E=t.parent;for(;E;)r(E,!0),a.push(E),E=E.parent;for(const $ of s.value)a.includes($)||r($,!1);return}}};let l=null;w(()=>{document.addEventListener("scroll",g),setTimeout(()=>{m(),l=new MutationObserver(n=>{m()});let a=document.querySelector(".markdown-body");l.observe(a,{subtree:!1,attributeFilter:["height"]})},2e3)});const m=()=>{s.value=I()},s=D([]);let h=D({});function I(){let a=[],n=["h1","h2","h3","h4","h5","h6"];if(!document.querySelector(".markdown-body"))return a;let E=Array.from(document.querySelectorAll(".markdown-body *")),$=new Set(E.map(u=>u.tagName.toLowerCase()));for(let u=n.length-1;u>=0;u--)$.has(n[u])||n.splice(u,1);let V=n.map(()=>0),H=document.querySelector("#note_top_main").clientHeight+60;for(let u=0;u<E.length;u++){const L=E[u];let U=L.tagName.toLowerCase(),P=n.indexOf(U);if(P==-1)continue;let f={id:U+"-"+L.innerText+"-"+u,level:P,parent:null,children:[],rawName:L.innerText,scrollTop:L.offsetTop+H};if(a.length>0){let b=a.at(-1);if(b.level<f.level)f.parent=b,b.children.push(f);else if(b.level>f.level){V.fill(0,P+1);let k=b.parent;for(;k;){if(k.level<f.level){k.children.push(f),f.parent=k;break}k=k.parent}}else b.parent&&(f.parent=b.parent,b.parent.children.push(f))}V[P]+=1,f.isVisible=f.parent==null,f.name=L.innerText,a.push(f)}return a}function r(a,n){for(const t of a.children)t.isVisible=n}function y(a){window.scrollTo({top:a+10,behavior:"smooth"})}return(a,n)=>(i(),d("div",Et,[J(e("div",yt,[It,e("div",bt,[(i(!0),d(Y,null,tt(s.value,t=>J((i(),d("div",{key:t.id,onClick:E=>y(t.scrollTop),class:et(["catalog-item",p(h).id==t.id?"active":"not-active"]),style:ot({paddingLeft:t.level*10+"px"}),title:t.rawName},x(t.name),15,Tt)),[[G,t.isVisible]])),128))])],512),[[G,p(v)]])]))}},$t=R(xt,[["__scopeId","data-v-a0b12e2e"]]);const q=_=>(N("data-v-6d48307e"),_=_(),S(),_),kt={id:"topic_right_main"},wt={class:"personal_item intro f f_d_c a_c"},Vt=["src"],Lt=["textContent"],Dt=["textContent"],Rt={class:"topic_class_box f f_d_r"},Ot={class:"topic_classification_total_box f f_d_c a_c"},Pt=q(()=>e("h3",null,"文章",-1)),At=["textContent"],Nt=q(()=>e("div",{class:"topic_classification_total_box f f_d_c a_c"},[e("h3",null,"分类"),e("span",null,"3")],-1)),St={class:"topic_classification_total_box f f_d_c a_c"},Ct=q(()=>e("h3",null,"笔记",-1)),Bt={__name:"NoteRightInterface",setup(_){const c=C(),v=at(),g=st(),l=j();O(()=>{}),w(()=>{m(c.layout)}),c.$subscribe((s,h)=>{m(h.layout)});const m=s=>{const h=document.querySelector("#topic_right_main");s?h.style.display="block":h.style.display="none"};return(s,h)=>(i(),d("div",kt,[e("div",wt,[e("img",{src:p(v).avatar,alt:""},null,8,Vt),e("span",{class:"personal_name",textContent:x(p(v).name)},null,8,Lt),e("span",{class:"personal_signature",textContent:x(p(v).signature)},null,8,Dt),e("div",Rt,[e("div",Ot,[Pt,e("span",{textContent:x(p(g).length())},null,8,At)]),Nt,e("div",St,[Ct,e("span",null,x(p(l).data.length),1)])])]),T($t,{class:"directory"})]))}},Mt=R(Bt,[["__scopeId","data-v-6d48307e"]]);const Ft=_=>(N("data-v-23e1e681"),_=_(),S(),_),zt={id:"topic_bottom_main"},jt={class:"note_context_switch_box f f_d_r"},qt={class:"note_switch_item f f_d_c j_c_c"},Ht={key:0},Ut={key:1},Jt={key:2},Gt={class:"note_switch_item f f_d_c j_c_c"},Kt={key:0},Qt={key:1},Wt={key:2},Yt=Ft(()=>e("div",{id:"gitalk-container"},null,-1)),Xt={__name:"NoteBottomInterface",setup(_){const{params:c}=X(),v=F();C();const g=j(),l=D({});O(()=>{l.value=g.get_note_by_id(c.id)}),z(()=>{});const m=D(),s=D(),h=()=>{const I=c.index-1;I==0?m.value="--":m.value=l.value.directory_list[I-1].name,I==l.value.directory_list.length-1?s.value="--":s.value=l.value.directory_list[I+1].name};return w(()=>{h(),new nt({clientID:"429076372c73a03552c6",clientSecret:"e10cf1b42cb0daf8cda1857f8f9a4ab411c4c91e",repo:"TinyFlowersComment",owner:"sparkle520",admin:["sparkle520"],id:l.value.link,language:"zh-CN",distractionFreeMode:!1,proxy:"https://strong-caramel-969805.netlify.app/github_access_token"}).render("gitalk-container")}),(I,r)=>(i(),d("div",zt,[e("div",jt,[e("div",qt,[m.value=="--"?(i(),d("div",Ht)):(i(),d("div",Ut,"上一章")),m.value=="--"?(i(),d("div",Jt)):(i(),d("div",{key:3,onClick:r[0]||(r[0]=y=>p(v).push(`/note/book/${p(c).id}/${parseInt(p(c).index)-1}`))},x(m.value),1))]),e("div",Gt,[s.value=="--"?(i(),d("div",Kt)):(i(),d("div",Qt,"下一章")),s.value=="--"?(i(),d("div",Wt)):(i(),d("div",{key:3,onClick:r[1]||(r[1]=y=>p(v).push(`/note/book/${p(c).id}/${parseInt(p(c).index)+1}`))},x(s.value),1))])]),Yt]))}},Zt=R(Xt,[["__scopeId","data-v-23e1e681"]]);const te={__name:"NoteFootInterface",setup(_){return F(),O(()=>{}),w(()=>{}),(c,v)=>{const g=A("PageFoot");return i(),W(g)}}},ee=R(te,[["__scopeId","data-v-75e88bc2"]]),oe={id:"topic_main"},_e={class:"topic_container"},ae={class:"topic_content"},se=e("div",{class:"topic_text"},[e("div",{id:"n_t",class:"markdown-body"})],-1),de={__name:"NoteInterface",setup(_){const{params:c}=X(),v=new B.Renderer;j(),B.setOptions({renderer:v,gfm:!1,pedantic:!1,sanitize:!0}),z(()=>{});const g=()=>{I(c.id,c.index)},l=C(),{theme:m}=M(l),{layout:s}=M(l);l.$subscribe((r,y)=>{K(y.theme),Q(y.layout)}),O(()=>{});const h=(r,y,a)=>{r.innerHTML=B(y,!0),a(r)};w(()=>{window.innerWidth>=600&&Q(s.value),K(m.value),g()});const I=(r,y)=>{const a=`/src/store_data/note_data/${r}/${y}.md`,n=Object.assign({"/src/store_data/note_data/1/1.md":()=>o(()=>import("./1-d32c4d54.js"),[]).then(t=>t.default),"/src/store_data/note_data/1/2.md":()=>o(()=>import("./2-34dbbf5b.js"),[]).then(t=>t.default),"/src/store_data/note_data/1/3.md":()=>o(()=>import("./3-57d09307.js"),[]).then(t=>t.default),"/src/store_data/note_data/1/4.md":()=>o(()=>import("./4-b50e1e00.js"),[]).then(t=>t.default),"/src/store_data/note_data/1/5.md":()=>o(()=>import("./5-ca2841c1.js"),[]).then(t=>t.default),"/src/store_data/note_data/1/6.md":()=>o(()=>import("./6-d61a61b2.js"),[]).then(t=>t.default),"/src/store_data/note_data/1/7.md":()=>o(()=>import("./7-ab8fbab2.js"),[]).then(t=>t.default),"/src/store_data/note_data/2/1.md":()=>o(()=>import("./1-e463f04f.js"),[]).then(t=>t.default),"/src/store_data/note_data/2/10.md":()=>o(()=>import("./10-e9220a04.js"),[]).then(t=>t.default),"/src/store_data/note_data/2/11.md":()=>o(()=>import("./11-e9220a04.js"),[]).then(t=>t.default),"/src/store_data/note_data/2/12.md":()=>o(()=>import("./12-a518ee05.js"),[]).then(t=>t.default),"/src/store_data/note_data/2/2.md":()=>o(()=>import("./2-2d95b198.js"),[]).then(t=>t.default),"/src/store_data/note_data/2/3.md":()=>o(()=>import("./3-e9220a04.js"),[]).then(t=>t.default),"/src/store_data/note_data/2/4.md":()=>o(()=>import("./4-d85cd600.js"),[]).then(t=>t.default),"/src/store_data/note_data/2/5.md":()=>o(()=>import("./5-e9220a04.js"),[]).then(t=>t.default),"/src/store_data/note_data/2/6.md":()=>o(()=>import("./6-e9220a04.js"),[]).then(t=>t.default),"/src/store_data/note_data/2/7.md":()=>o(()=>import("./7-e9220a04.js"),[]).then(t=>t.default),"/src/store_data/note_data/2/8.md":()=>o(()=>import("./8-e9220a04.js"),[]).then(t=>t.default),"/src/store_data/note_data/2/9.md":()=>o(()=>import("./9-e9220a04.js"),[]).then(t=>t.default),"/src/store_data/note_data/3/1.md":()=>o(()=>import("./1-e9220a04.js"),[]).then(t=>t.default),"/src/store_data/note_data/3/2.md":()=>o(()=>import("./2-e9220a04.js"),[]).then(t=>t.default),"/src/store_data/note_data/3/3.md":()=>o(()=>import("./3-d85cd600.js"),[]).then(t=>t.default),"/src/store_data/note_data/3/4.md":()=>o(()=>import("./4-e9220a04.js"),[]).then(t=>t.default),"/src/store_data/note_data/3/5.md":()=>o(()=>import("./5-d85cd600.js"),[]).then(t=>t.default),"/src/store_data/note_data/3/6.md":()=>o(()=>import("./6-d85cd600.js"),[]).then(t=>t.default)});for(const t in n)t==a&&n[t]().then(E=>{const $=document.querySelector("#n_t");h($,E,V=>{ct(()=>{it(V).catch(u=>{})}),V.querySelectorAll("pre code").forEach(u=>{rt.highlightElement(u)})})})};return(r,y)=>{const a=A("TopicLeftInterface"),n=A("Utils");return i(),d(Y,null,[e("div",oe,[T(vt,{class:"topic_bg"}),T(ft,{class:"topic_top_interface"}),e("div",_e,[T(a),e("div",ae,[se,T(Zt)]),T(Mt)]),T(ee)]),T(n)],64)}}};export{de as default};
