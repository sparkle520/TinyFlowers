import{_ as q,c as S,o as A,d as M,b as N,e as d,f as p,p as H,j as z,g as t,n as j,R as ne,h as f,S as _e,u as F,s as B,P,m as L,B as J,w as G,v as Q,x as $,F as Z,r as ae,q as ie,T as ce,t as k,a as ee,M as te,L as oe,z as c,A as se,J as le,N as W,O as X,D as re,C as de,I as s,H as ue}from"./index-e91dda96.js";import{m as U}from"./marked.esm-98d564e7.js";const me=n=>(H("data-v-618ef456"),n=n(),z(),n),he={id:"note_top_main",class:"relative flex align_items_center justify_content_center"},pe=me(()=>t("img",{class:"note_top_main_bg",src:"https://pic.imgdb.cn/item/666c45e4d9c307b7e930def6.png",alt:""},null,-1)),fe=[pe],ve={__name:"NoteTopInterface",setup(n){return S(),A(()=>{}),M(()=>{}),N(()=>{}),(a,y)=>(d(),p("div",he,fe))}},ge=q(ve,[["__scopeId","data-v-618ef456"]]),xe={__name:"NoteBgInterface",setup(n){return S(),A(()=>{}),N(()=>{}),(a,y)=>{const E=j("Particles");return d(),ne(E,{id:"tsparticles",options:f(_e)},null,8,["options"])}}};const ye=n=>(H("data-v-51148dc3"),n=n(),z(),n),be={id:"directory_list_main"},Ee={class:"catalog-card"},Ie={class:"catalog-card-header"},Te={class:"flex justify_content_center"},$e=ye(()=>t("div",{class:"flex flex_direction_row justify_content_center align_items_center"},[t("strong",null,"ç›®å½•ðŸŒ¼")],-1)),we={class:"catalog-content"},ke=["onClick","title"],Le={__name:"Directory",setup(n){const a=F(),{theme:y}=B(a),{layout:E}=B(a);a.$subscribe((_,r)=>{h(r.theme)}),A(()=>{}),M(()=>{P.off("note_data"),document.removeEventListener("scroll",b)});const b=()=>{if(i.value==null||i.value==null)return;let _=[];for(let r=i.value.length-1;r>=0;r--){const g=i.value[r];if(g.scrollTop<=window.scrollY){if(m.value.id===g.id)return;Object.assign(m.value,g),l(g,!0),_.push(g);let o=g.parent;for(;o;)l(o,!0),_.push(o),o=o.parent;for(const I of i.value)_.includes(I)||l(I,!1);return}}};N(()=>{h(y.value),P.on("note_data",()=>u()),document.addEventListener("scroll",b)});const u=()=>{i.value=v()},i=L([]);J(i,_=>{_.length>0?document.querySelector("#directory_list_main").style.display="block":document.querySelector("#directory_list_main").style.display="none"});let m=L({});function v(){let _=[],r=["h1","h2","h3","h4","h5","h6"];if(!document.querySelector(".markdown-body"))return _;let o=Array.from(document.querySelectorAll(".markdown-body *")),I=new Set(o.map(e=>e.tagName.toLowerCase()));for(let e=r.length-1;e>=0;e--)I.has(r[e])||r.splice(e,1);let D=r.map(()=>0),V=document.querySelector("#note_top_main").clientHeight+60;for(let e=0;e<o.length;e++){const w=o[e];let K=w.tagName.toLowerCase(),C=r.indexOf(K);if(C==-1)continue;let x={id:K+"-"+w.innerText+"-"+e,level:C,parent:null,children:[],rawName:w.innerText,scrollTop:w.offsetTop+V};if(_.length>0){let T=_.at(-1);if(T.level<x.level)x.parent=T,T.children.push(x);else if(T.level>x.level){D.fill(0,C+1);let O=T.parent;for(;O;){if(O.level<x.level){O.children.push(x),x.parent=O;break}O=O.parent}}else T.parent&&(x.parent=T.parent,T.parent.children.push(x))}D[C]+=1,x.isVisible=x.parent==null,x.name=w.innerText,_.push(x)}return _}const h=_=>{};function l(_,r){for(const g of _.children)g.isVisible=r}function R(_){window.scrollTo({top:_+10,behavior:"smooth"})}return(_,r)=>{const g=j("font-awesome-icon");return d(),p("div",be,[G(t("div",Ee,[t("div",Ie,[t("div",Te,[t("span",null,[$(g,{icon:["fas","bars-staggered"],class:"catalog-icon"})]),$e])]),t("div",we,[(d(!0),p(Z,null,ae(i.value,o=>G((d(),p("div",{key:o.id,onClick:I=>R(o.scrollTop),class:ie(["catalog-item",f(m).id==o.id?"active":"not-active"]),style:ce({paddingLeft:o.level*10+"px"}),title:o.rawName},k(o.name),15,ke)),[[Q,o.isVisible]])),128))])],512),[[Q,f(E)]])])}}},Re=q(Le,[["__scopeId","data-v-51148dc3"]]);const Y=n=>(H("data-v-201e8a51"),n=n(),z(),n),De={id:"topic_right_main"},Ve={class:"personal_item intro flex flex_direction_column align_items_center"},Oe=["src"],Pe=["textContent"],Ae=["textContent"],Ne={class:"topic_class_box flex flex_direction_row"},Se={class:"topic_classification_total_box flex flex_direction_column align_items_center"},Ce=Y(()=>t("h3",null,"æ–‡ç« ",-1)),je=["textContent"],Be=Y(()=>t("div",{class:"topic_classification_total_box flex flex_direction_column align_items_center"},[t("h3",null,"åˆ†ç±»"),t("span",null,"3")],-1)),qe={class:"topic_classification_total_box flex flex_direction_column align_items_center"},Me=Y(()=>t("h3",null,"ç¬”è®°",-1)),He={__name:"NoteRightInterface",setup(n){const a=F(),y=ee(),E=te(),b=oe();S(),A(()=>{}),N(()=>{i(a.theme),u(a.layout)}),a.$subscribe((m,v)=>{i(v.theme),u(v.layout)});const u=m=>{const v=document.querySelector("#topic_right_main");m?v.style.display="block":v.style.display="none"},i=m=>{m?(c("--bg_color","#0b0e14"),c("--color","#f7f7f7"),c("--item_bg","#242b3d"),c("--item_shadow","transparent"),c("--topic_classification_color","#5e6d78"),c("--topic_classification_num_color","#b5b9d6")):(c("--bg_color","#f7f3f5"),c("--color","#4d4949"),c("--item_bg","#fff"),c("--item_shadow","#5656561b"),c("--topic_classification_color","#216eba"),c("--topic_classification_num_color","#4d4949"))};return(m,v)=>(d(),p("div",De,[t("div",Ve,[t("img",{src:f(y).avatar,alt:""},null,8,Oe),t("span",{class:"personal_name",textContent:k(f(y).name)},null,8,Pe),t("span",{class:"personal_signature",textContent:k(f(y).signature)},null,8,Ae),t("div",Ne,[t("div",Se,[Ce,t("span",{textContent:k(f(E).length())},null,8,je)]),Be,t("div",qe,[Me,t("span",null,k(f(b).data.length),1)])])]),$(Re)]))}},ze=q(He,[["__scopeId","data-v-201e8a51"]]);const Fe=n=>(H("data-v-9464e11d"),n=n(),z(),n),Ue={id:"topic_bottom_main"},Je={class:"note_context_switch_box flex flex_direction_row"},Ge={class:"note_switch_item flex flex_direction_column justify_content_center"},Ye={key:0},Ke={key:1},Qe={key:2},We={class:"note_switch_item flex flex_direction_column justify_content_center"},Xe={key:0},Ze={key:1},et={key:2},tt=Fe(()=>t("div",{id:"gitalk-container"},null,-1)),ot={__name:"NoteBottomInterface",setup(n){const{params:a}=se(),y=S(),E=F();ee(),te(),A(()=>{}),M(()=>{P.off("note_data")}),E.$subscribe((h,l)=>{v(l.theme)});const b=L(),u=L(),i=L(),m=()=>{const h=a.index-1;h==0?u.value="--":u.value=b.value.directory_list[h-1].name,h==b.value.directory_list.length-1?i.value="--":i.value=b.value.directory_list[h+1].name};N(()=>{v(E.theme),P.on("note_data",h=>{b.value=h,m(),new le({clientID:"429076372c73a03552c6",clientSecret:"e10cf1b42cb0daf8cda1857f8f9a4ab411c4c91e",repo:"TinyFlowersComment",owner:"sparkle520",admin:["sparkle520"],id:b.value.link,language:"zh-CN",distractionFreeMode:!1,proxy:"https://strong-caramel-969805.netlify.app/github_access_token"}).render("gitalk-container")})});const v=h=>{h?(c("--topic_author_info_box_color","#788086"),c("--topic_author_info_box_bg","#1e2433"),c("--topic_author_info_inner_box_color","#f5f5f5")):(c("--topic_author_info_box_color","#b0c4de"),c("--topic_author_info_box_bg","#f8f8ff"),c("--topic_author_info_inner_box_color","#78c1f8"))};return(h,l)=>(d(),p("div",Ue,[t("div",Je,[t("div",Ge,[u.value=="--"?(d(),p("div",Ye)):(d(),p("div",Ke,"ä¸Šä¸€ç« ")),u.value=="--"?(d(),p("div",Qe)):(d(),p("div",{key:3,onClick:l[0]||(l[0]=R=>f(y).push(`/note/book/${f(a).id}/${parseInt(f(a).index)-1}`))},k(u.value),1))]),t("div",We,[i.value=="--"?(d(),p("div",Xe)):(d(),p("div",Ze,"ä¸‹ä¸€ç« ")),i.value=="--"?(d(),p("div",et)):(d(),p("div",{key:3,onClick:l[1]||(l[1]=R=>f(y).push(`/note/book/${f(a).id}/${parseInt(f(a).index)+1}`))},k(i.value),1))])]),tt]))}},st=q(ot,[["__scopeId","data-v-9464e11d"]]),nt={id:"topic_main"},_t={class:"topic_container"},at={class:"topic_content"},it={class:"topic_text"},ct=["innerHTML"],ut={__name:"NoteInterface",setup(n){const{params:a}=se(),y=new U.Renderer,E=oe();U.setOptions({renderer:y,gfm:!1,pedantic:!1,sanitize:!0}),M(()=>{clearInterval(l)});const b=()=>{g(a.id,a.index)},u=L("");function i(){const o=document.getElementById("mathjax");ue(o)}J(u,o=>{u.value=U(o),de(()=>{i(),r(),P.emit("note_data",E.get_note_by_id(a.id))})});const m=F(),{theme:v}=B(m),{layout:h}=B(m);m.$subscribe((o,I)=>{W(I.theme),X(I.layout)}),S(),A(()=>{});let l,R;const _=L(!1),r=()=>{l||(l=setInterval(()=>{const o=document.getElementById("mathjax");o.clientHeight!=R&&(P.emit("note_data",E.get_note_by_id(a.id)),R=o.clientHeight,_.value=!0)},1e3))};J(_,o=>{o&&clearInterval(l)}),N(()=>{W(v.value),X(h.value),b()});const g=(o,I)=>{const D=`/src/assets/note_data/${o}/${I}.md`,V=Object.assign({"/src/assets/note_data/1/1.md":()=>s(()=>import("./1-d32c4d54.js"),[]).then(e=>e.default),"/src/assets/note_data/1/2.md":()=>s(()=>import("./2-b28f20ae.js"),[]).then(e=>e.default),"/src/assets/note_data/1/3.md":()=>s(()=>import("./3-1b340cce.js"),[]).then(e=>e.default),"/src/assets/note_data/1/4.md":()=>s(()=>import("./4-b50e1e00.js"),[]).then(e=>e.default),"/src/assets/note_data/1/5.md":()=>s(()=>import("./5-ca2841c1.js"),[]).then(e=>e.default),"/src/assets/note_data/1/6.md":()=>s(()=>import("./6-d61a61b2.js"),[]).then(e=>e.default),"/src/assets/note_data/1/7.md":()=>s(()=>import("./7-ab8fbab2.js"),[]).then(e=>e.default),"/src/assets/note_data/2/1.md":()=>s(()=>import("./1-b30b38f9.js"),[]).then(e=>e.default),"/src/assets/note_data/2/10.md":()=>s(()=>import("./10-e9220a04.js"),[]).then(e=>e.default),"/src/assets/note_data/2/11.md":()=>s(()=>import("./11-e9220a04.js"),[]).then(e=>e.default),"/src/assets/note_data/2/12.md":()=>s(()=>import("./12-fa8373a2.js"),[]).then(e=>e.default),"/src/assets/note_data/2/2.md":()=>s(()=>import("./2-d85cd600.js"),[]).then(e=>e.default),"/src/assets/note_data/2/3.md":()=>s(()=>import("./3-e9220a04.js"),[]).then(e=>e.default),"/src/assets/note_data/2/4.md":()=>s(()=>import("./4-d85cd600.js"),[]).then(e=>e.default),"/src/assets/note_data/2/5.md":()=>s(()=>import("./5-d85cd600.js"),[]).then(e=>e.default),"/src/assets/note_data/2/6.md":()=>s(()=>import("./6-e9220a04.js"),[]).then(e=>e.default),"/src/assets/note_data/2/7.md":()=>s(()=>import("./7-e9220a04.js"),[]).then(e=>e.default),"/src/assets/note_data/2/8.md":()=>s(()=>import("./8-e9220a04.js"),[]).then(e=>e.default),"/src/assets/note_data/2/9.md":()=>s(()=>import("./9-e9220a04.js"),[]).then(e=>e.default),"/src/assets/note_data/3/1.md":()=>s(()=>import("./1-e9220a04.js"),[]).then(e=>e.default),"/src/assets/note_data/3/2.md":()=>s(()=>import("./2-e9220a04.js"),[]).then(e=>e.default),"/src/assets/note_data/3/3.md":()=>s(()=>import("./3-d85cd600.js"),[]).then(e=>e.default),"/src/assets/note_data/3/4.md":()=>s(()=>import("./4-e9220a04.js"),[]).then(e=>e.default),"/src/assets/note_data/3/5.md":()=>s(()=>import("./5-e9220a04.js"),[]).then(e=>e.default),"/src/assets/note_data/3/6.md":()=>s(()=>import("./6-d85cd600.js"),[]).then(e=>e.default)});for(const e in V)e==D&&V[e]().then(w=>{u.value=w})};return(o,I)=>{const D=j("TopicLeftInterface"),V=j("Utils"),e=re("highlight");return d(),p(Z,null,[t("div",nt,[$(xe,{class:"topic_bg"}),$(ge,{class:"topic_top_interface"}),t("div",_t,[$(D),t("div",at,[t("div",it,[G(t("div",{innerHTML:u.value,id:"mathjax",class:"markdown-body"},null,8,ct),[[e]])]),$(st)]),$(ze)])]),$(V)],64)}}};export{ut as default};
