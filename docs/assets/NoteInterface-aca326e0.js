import{_ as N,e as d,f as u,p as C,j as B,g as e,c as W,o as j,b as D,n as P,Q as tt,h as m,R as et,u as q,s as S,d as F,m as V,w as G,v as Q,x as k,F as X,r as ot,q as st,S as _t,t as w,a as nt,M as at,L as H,z as r,A as Z,J as it,N as Y,O as K,H as s,C as ct,I as rt}from"./index-c4f466e7.js";import{H as lt}from"./index-d7faf5b9.js";import{m as z}from"./marked.esm-98d564e7.js";const dt={},ut=_=>(C("data-v-d0beff48"),_=_(),B(),_),ft={id:"note_top_main",class:"r f a_c j_c_c"},pt=ut(()=>e("img",{class:"note_top_main_bg",src:"https://pic.imgdb.cn/item/666c45e4d9c307b7e930def6.png",alt:""},null,-1)),mt=[pt];function ht(_,a){return d(),u("div",ft,mt)}const vt=N(dt,[["render",ht],["__scopeId","data-v-d0beff48"]]),bt={__name:"NoteBgInterface",setup(_){return W(),j(()=>{}),D(()=>{}),(a,E)=>{const I=P("Particles");return d(),tt(I,{id:"tsparticles",options:m(et)},null,8,["options"])}}};const gt=_=>(C("data-v-7832329b"),_=_(),B(),_),Et={id:"directory_list_main"},yt={class:"catalog-card"},It={class:"catalog-card-header f"},xt={class:"f j_c_c"},Tt=gt(()=>e("div",{class:"f f_d_r j_c_c a_c"},[e("strong",null,"ç›®å½•ðŸŒ¼")],-1)),$t={class:"catalog-content"},kt=["onClick","title"],wt={__name:"Directory",setup(_){const a=q(),{theme:E}=S(a),{layout:I}=S(a);a.$subscribe((o,t)=>{g(t.theme)}),F(()=>{document.removeEventListener("scroll",x)});const x=()=>{if(c.value==null||c.value==null)return;let o=[];for(let t=c.value.length-1;t>=0;t--){const p=c.value[t];if(p.scrollTop<=window.scrollY){if(l.value.id===p.id)return;Object.assign(l.value,p),n(p,!0),o.push(p);let i=p.parent;for(;i;)n(i,!0),o.push(i),i=i.parent;for(const T of c.value)o.includes(T)||n(T,!1);return}}};D(()=>{g(E.value),document.addEventListener("scroll",x),setTimeout(()=>{h();let o=new MutationObserver(p=>{h()}),t=document.querySelector(".markdown-body");o.observe(t,{subtree:!1,attributeFilter:["height"]})},2e3)});const h=()=>{c.value=b()},c=V([]);let l=V({});function b(){let o=[],t=["h1","h2","h3","h4","h5","h6"];if(!document.querySelector(".markdown-body"))return o;let i=Array.from(document.querySelectorAll(".markdown-body *")),T=new Set(i.map(y=>y.tagName.toLowerCase()));for(let y=t.length-1;y>=0;y--)T.has(t[y])||t.splice(y,1);let M=t.map(()=>0),O=document.querySelector("#note_top_main").clientHeight+60;for(let y=0;y<i.length;y++){const R=i[y];let J=R.tagName.toLowerCase(),A=t.indexOf(J);if(A==-1)continue;let v={id:J+"-"+R.innerText+"-"+y,level:A,parent:null,children:[],rawName:R.innerText,scrollTop:R.offsetTop+O};if(o.length>0){let $=o.at(-1);if($.level<v.level)v.parent=$,$.children.push(v);else if($.level>v.level){M.fill(0,A+1);let L=$.parent;for(;L;){if(L.level<v.level){L.children.push(v),v.parent=L;break}L=L.parent}}else $.parent&&(v.parent=$.parent,$.parent.children.push(v))}M[A]+=1,v.isVisible=v.parent==null,v.name=R.innerText,o.push(v)}return o}const g=o=>{};function n(o,t){for(const p of o.children)p.isVisible=t}function f(o){window.scrollTo({top:o+10,behavior:"smooth"})}return(o,t)=>{const p=P("font-awesome-icon");return d(),u("div",Et,[G(e("div",yt,[e("div",It,[e("div",xt,[e("span",null,[k(p,{icon:["fas","bars-staggered"],class:"catalog-icon"})]),Tt])]),e("div",$t,[(d(!0),u(X,null,ot(c.value,i=>G((d(),u("div",{key:i.id,onClick:T=>f(i.scrollTop),class:st(["catalog-item",m(l).id==i.id?"active":"not-active"]),style:_t({paddingLeft:i.level*10+"px"}),title:i.rawName},w(i.name),15,kt)),[[Q,i.isVisible]])),128))])],512),[[Q,m(I)]])])}}},Lt=N(wt,[["__scopeId","data-v-7832329b"]]);const U=_=>(C("data-v-15ef6f0b"),_=_(),B(),_),Rt={id:"topic_right_main"},Vt={class:"personal_item intro f f_d_c a_c"},Dt=["src"],Ot=["textContent"],At=["textContent"],Pt={class:"topic_class_box f f_d_r"},St={class:"topic_classification_total_box f f_d_c a_c"},Nt=U(()=>e("h3",null,"æ–‡ç« ",-1)),Ct=["textContent"],Bt=U(()=>e("div",{class:"topic_classification_total_box f f_d_c a_c"},[e("h3",null,"åˆ†ç±»"),e("span",null,"3")],-1)),jt={class:"topic_classification_total_box f f_d_c a_c"},qt=U(()=>e("h3",null,"ç¬”è®°",-1)),Mt={__name:"NoteRightInterface",setup(_){const a=q(),E=nt(),I=at(),x=H();j(()=>{}),D(()=>{c(a.theme),h(a.layout)}),a.$subscribe((l,b)=>{c(b.theme),h(b.layout)});const h=l=>{const b=document.querySelector("#topic_right_main");l?b.style.display="block":b.style.display="none"},c=l=>{l?(r("--bg_color","#0b0e14"),r("--color","#f7f7f7"),r("--item_bg","#242b3d"),r("--item_shadow","transparent"),r("--topic_classification_color","#5e6d78"),r("--topic_classification_num_color","#b5b9d6")):(r("--bg_color","#f7f3f5"),r("--color","#4d4949"),r("--item_bg","#fff"),r("--item_shadow","#5656561b"),r("--topic_classification_color","#216eba"),r("--topic_classification_num_color","#4d4949"))};return(l,b)=>(d(),u("div",Rt,[e("div",Vt,[e("img",{src:m(E).avatar,alt:""},null,8,Dt),e("span",{class:"personal_name",textContent:w(m(E).name)},null,8,Ot),e("span",{class:"personal_signature",textContent:w(m(E).signature)},null,8,At),e("div",Pt,[e("div",St,[Nt,e("span",{textContent:w(m(I).length())},null,8,Ct)]),Bt,e("div",jt,[qt,e("span",null,w(m(x).data.length),1)])])]),k(Lt,{class:"directory"})]))}},zt=N(Mt,[["__scopeId","data-v-15ef6f0b"]]);const Ft=_=>(C("data-v-9b298162"),_=_(),B(),_),Ht={id:"topic_bottom_main"},Ut={class:"note_context_switch_box f f_d_r"},Jt={class:"note_switch_item f f_d_c j_c_c"},Gt={key:0},Qt={key:1},Yt={key:2},Kt={class:"note_switch_item f f_d_c j_c_c"},Wt={key:0},Xt={key:1},Zt={key:2},te=Ft(()=>e("div",{id:"gitalk-container"},null,-1)),ee={__name:"NoteBottomInterface",setup(_){const{params:a}=Z(),E=W(),I=q(),x=H(),h=V({});j(()=>{h.value=x.get_note_by_id(a.id)}),F(()=>{}),I.$subscribe((n,f)=>{g(f.theme)});const c=V(),l=V(),b=()=>{const n=a.index-1;n==0?c.value="--":c.value=h.value.directory_list[n-1].name,n==h.value.directory_list.length-1?l.value="--":l.value=h.value.directory_list[n+1].name};D(()=>{g(I.theme),b(),new it({clientID:"429076372c73a03552c6",clientSecret:"e10cf1b42cb0daf8cda1857f8f9a4ab411c4c91e",repo:"TinyFlowersComment",owner:"sparkle520",admin:["sparkle520"],id:h.value.link,language:"zh-CN",distractionFreeMode:!1,proxy:"https://strong-caramel-969805.netlify.app/github_access_token"}).render("gitalk-container")});const g=n=>{n?(r("--topic_author_info_box_color","#788086"),r("--topic_author_info_box_bg","#1e2433"),r("--topic_author_info_inner_box_color","#f5f5f5")):(r("--topic_author_info_box_color","#b0c4de"),r("--topic_author_info_box_bg","#f8f8ff"),r("--topic_author_info_inner_box_color","#78c1f8"))};return(n,f)=>(d(),u("div",Ht,[e("div",Ut,[e("div",Jt,[c.value=="--"?(d(),u("div",Gt)):(d(),u("div",Qt,"ä¸Šä¸€ç« ")),c.value=="--"?(d(),u("div",Yt)):(d(),u("div",{key:3,onClick:f[0]||(f[0]=o=>m(E).push(`/note/book/${m(a).id}/${parseInt(m(a).index)-1}`))},w(c.value),1))]),e("div",Kt,[l.value=="--"?(d(),u("div",Wt)):(d(),u("div",Xt,"ä¸‹ä¸€ç« ")),l.value=="--"?(d(),u("div",Zt)):(d(),u("div",{key:3,onClick:f[1]||(f[1]=o=>m(E).push(`/note/book/${m(a).id}/${parseInt(m(a).index)+1}`))},w(l.value),1))])]),te]))}},oe=N(ee,[["__scopeId","data-v-9b298162"]]),se={id:"topic_main"},_e={class:"topic_container"},ne={class:"topic_content"},ae=e("div",{class:"topic_text"},[e("div",{id:"n_t",class:"markdown-body"})],-1),de={__name:"NoteInterface",setup(_){const{params:a}=Z(),E=new z.Renderer;H(),z.setOptions({renderer:E,gfm:!1,pedantic:!1,sanitize:!0}),F(()=>{});const I=()=>{b(a.id,a.index)},x=q(),{theme:h}=S(x),{layout:c}=S(x);x.$subscribe((g,n)=>{Y(n.theme),K(n.layout)}),j(()=>{});const l=(g,n,f)=>{g.innerHTML=z(n,!0),f(g)};D(()=>{Y(h.value),K(c.value),I()});const b=(g,n)=>{const f=`/src/assets/note_data/${g}/${n}.md`,o=Object.assign({"/src/assets/note_data/1/1.md":()=>s(()=>import("./1-d32c4d54.js"),[]).then(t=>t.default),"/src/assets/note_data/1/2.md":()=>s(()=>import("./2-34dbbf5b.js"),[]).then(t=>t.default),"/src/assets/note_data/1/3.md":()=>s(()=>import("./3-57d09307.js"),[]).then(t=>t.default),"/src/assets/note_data/1/4.md":()=>s(()=>import("./4-b50e1e00.js"),[]).then(t=>t.default),"/src/assets/note_data/1/5.md":()=>s(()=>import("./5-ca2841c1.js"),[]).then(t=>t.default),"/src/assets/note_data/1/6.md":()=>s(()=>import("./6-d61a61b2.js"),[]).then(t=>t.default),"/src/assets/note_data/1/7.md":()=>s(()=>import("./7-ab8fbab2.js"),[]).then(t=>t.default),"/src/assets/note_data/2/1.md":()=>s(()=>import("./1-b30b38f9.js"),[]).then(t=>t.default),"/src/assets/note_data/2/10.md":()=>s(()=>import("./10-e9220a04.js"),[]).then(t=>t.default),"/src/assets/note_data/2/11.md":()=>s(()=>import("./11-e9220a04.js"),[]).then(t=>t.default),"/src/assets/note_data/2/12.md":()=>s(()=>import("./12-fa8373a2.js"),[]).then(t=>t.default),"/src/assets/note_data/2/2.md":()=>s(()=>import("./2-e9220a04.js"),[]).then(t=>t.default),"/src/assets/note_data/2/3.md":()=>s(()=>import("./3-d85cd600.js"),[]).then(t=>t.default),"/src/assets/note_data/2/4.md":()=>s(()=>import("./4-d85cd600.js"),[]).then(t=>t.default),"/src/assets/note_data/2/5.md":()=>s(()=>import("./5-e9220a04.js"),[]).then(t=>t.default),"/src/assets/note_data/2/6.md":()=>s(()=>import("./6-e9220a04.js"),[]).then(t=>t.default),"/src/assets/note_data/2/7.md":()=>s(()=>import("./7-e9220a04.js"),[]).then(t=>t.default),"/src/assets/note_data/2/8.md":()=>s(()=>import("./8-e9220a04.js"),[]).then(t=>t.default),"/src/assets/note_data/2/9.md":()=>s(()=>import("./9-e9220a04.js"),[]).then(t=>t.default),"/src/assets/note_data/3/1.md":()=>s(()=>import("./1-e9220a04.js"),[]).then(t=>t.default),"/src/assets/note_data/3/2.md":()=>s(()=>import("./2-d85cd600.js"),[]).then(t=>t.default),"/src/assets/note_data/3/3.md":()=>s(()=>import("./3-e9220a04.js"),[]).then(t=>t.default),"/src/assets/note_data/3/4.md":()=>s(()=>import("./4-e9220a04.js"),[]).then(t=>t.default),"/src/assets/note_data/3/5.md":()=>s(()=>import("./5-d85cd600.js"),[]).then(t=>t.default),"/src/assets/note_data/3/6.md":()=>s(()=>import("./6-d85cd600.js"),[]).then(t=>t.default)});for(const t in o)t==f&&o[t]().then(p=>{const i=document.querySelector("#n_t");l(i,p,T=>{ct(()=>{rt(T).catch(O=>{})}),T.querySelectorAll("pre code").forEach(O=>{lt.highlightElement(O)})})})};return(g,n)=>{const f=P("TopicLeftInterface"),o=P("Utils");return d(),u(X,null,[e("div",se,[k(bt,{class:"topic_bg"}),k(vt,{class:"topic_top_interface"}),e("div",_e,[k(f),e("div",ne,[ae,k(oe)]),k(zt)])]),k(o)],64)}}};export{de as default};
