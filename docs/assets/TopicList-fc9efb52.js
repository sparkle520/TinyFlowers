import{z as a,_ as gt,A as mt,u as yt,M as bt,a as wt,s as K,c as xt,o as J,b as kt,d as Lt,m as v,C as Q,B as Ct,n as W,e as i,f as n,g as t,w as H,E as zt,G as Mt,v as D,F as p,r as g,h as r,x as X,t as _,k as Tt,p as Ht,j as qt}from"./index-c4f466e7.js";const Z=y=>{y?(a("--topic_bg_color","#0b0e14"),a("--topic_bg_top","#0d1c2b"),a("--topic_list_bg","#0b0e14"),a("--color","#f7f7f7"),a("--item_bg","#242b3dc7"),a("--item_shadow","#1f2d3d26"),a("--title_color","#f7f7f7"),a("--title_af_bg","#a3a7c1aa"),a("--tag_box_bg","#2d3041c7"),a("--tag_bg","#9fa3bc"),a("--topic_classification_color","#5e6d78"),a("--topic_classification_num_color","#b5b9d6"),a("--filter_search_box_bg","#123"),a("--tag_item_bg","#242b3dc7"),a("--layout_hover","#0b0e14")):(a("--topic_bg_color","#fdfbfb"),a("--topic_bg_top","#fdfbfb"),a("--topic_list_bg","#e8f6f9"),a("--color","#393e46"),a("--item_bg","#ffffffc7"),a("--item_shadow","#1f2d3d26"),a("--title_color","#393e46"),a("--title_af_bg","#22113364"),a("--tag_box_bg","#e9696933"),a("--tag_bg","#e96969"),a("--topic_classification_color","#e96969"),a("--topic_classification_num_color","#e96969"),a("--filter_search_box_bg","#ffff"),a("--tag_item_bg","#f5f5f5"),a("--layout_hover","#F3ACAC"))};const d=y=>(Ht("data-v-49a3d852"),y=y(),qt(),y),St={id:"topic_list_main",class:"f f_d_c r"},Vt={class:"topic_search_box r"},$t=["onKeyup"],At=d(()=>t("label",{class:"search_icon a",for:"topic_search"},[t("svg",{t:"1709027338854",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"9410",width:"72",height:"72"},[t("path",{d:"M549.660444 56.888889a30.72 30.72 0 0 1 21.617778 8.988444l205.425778 205.482667c5.688889 5.688889 8.988444 13.425778 8.988444 21.560889v271.132444a244.337778 244.337778 0 0 0-316.245333 347.989334H144.327111A30.492444 30.492444 0 0 1 113.777778 881.493333V87.438222C113.777778 70.542222 127.431111 56.888889 144.327111 56.888889h405.333333zM387.811556 477.013333H212.195556a7.623111 7.623111 0 0 0-7.623112 7.68v45.795556c0 4.209778 3.413333 7.623111 7.623112 7.623111h175.616c4.209778 0 7.623111-3.413333 7.623111-7.623111V484.693333a7.623111 7.623111 0 0 0-7.623111-7.68z m190.862222-129.763555H212.195556a7.623111 7.623111 0 0 0-7.623112 7.623111v45.795555c0 4.209778 3.413333 7.623111 7.623112 7.623112h366.478222c4.209778 0 7.623111-3.413333 7.623111-7.623112v-45.795555a7.623111 7.623111 0 0 0-7.623111-7.623111z m-43.064889-219.932445v179.598223h179.655111L535.608889 127.317333z m372.394667 832.398223l-89.031112-89.031112a167.992889 167.992889 0 1 0-41.585777 38.912l90.339555 90.453334a7.395556 7.395556 0 0 0 5.347556 2.161778 7.68 7.68 0 0 0 5.347555-2.218667l29.582223-29.582222a7.566222 7.566222 0 0 0 0-10.695111z m-223.004445-83.512889a106.837333 106.837333 0 1 1 0-213.788445 106.837333 106.837333 0 1 1 0 213.788445z",fill:"#98fb98","p-id":"9411"})])],-1)),jt={class:"filter_search_box a"},Dt={class:"f f_d_c"},It=["onClick"],Bt=d(()=>t("div",{class:"query_time"},[t("span",{class:"query_text"})],-1)),Et={class:"width_full f f_d_r justify_content_center gap_16 z_index_10"},Ft={class:"topic_box"},Ut={class:"layout_box f f_d_r a_c r"},Kt=d(()=>t("svg",{t:"1707409279938",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"13268",width:"22",height:"22"},[t("path",{d:"M192 304a48 48 0 0 1 48-48h544a48 48 0 0 1 0 96H240a48 48 0 0 1-48-48z",fill:"#e96969","p-id":"13269"}),t("path",{d:"M192 528a48 48 0 0 1 48-48h192a48 48 0 0 1 0 96H240a48 48 0 0 1-48-48z m352 0a48 48 0 0 1 48-48h192a48 48 0 0 1 0 96H592a48 48 0 0 1-48-48z",fill:"#e96969","p-id":"13270"}),t("path",{d:"M192 752a48 48 0 0 1 48-48h544a48 48 0 0 1 0 96H240a48 48 0 0 1-48-48z",fill:"#e96969","p-id":"13271"})],-1)),Nt=[Kt],Rt=d(()=>t("svg",{t:"1707408621772",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5142",width:"22",height:"22"},[t("path",{d:"M450.56 563.2a10.24 10.24 0 0 1 10.16832 9.04192L460.8 573.44v245.76a10.24 10.24 0 0 1-9.04192 10.16832L450.56 829.44H204.8a10.24 10.24 0 0 1-10.16832-9.04192L194.56 819.2V573.44a10.24 10.24 0 0 1 9.04192-10.16832L204.8 563.2h245.76z m368.64 0a10.24 10.24 0 0 1 10.24 10.24v245.76a10.24 10.24 0 0 1-10.24 10.24H573.44a10.24 10.24 0 0 1-10.24-10.24V573.44a10.24 10.24 0 0 1 10.24-10.24z m-378.89024 20.48h-225.28v225.28h225.28V583.68z m368.64 0h-225.28v225.28h225.28V583.68zM450.56 194.56a10.24 10.24 0 0 1 10.24 10.24v245.76a10.24 10.24 0 0 1-10.24 10.24H204.8a10.24 10.24 0 0 1-10.24-10.24V204.8a10.24 10.24 0 0 1 10.24-10.24z m368.64 0a10.24 10.24 0 0 1 10.16832 9.04192L829.44 204.8v245.76a10.24 10.24 0 0 1-9.04192 10.16832L819.2 460.8H573.44a10.24 10.24 0 0 1-10.16832-9.04192L563.2 450.56V204.8a10.24 10.24 0 0 1 9.04192-10.16832L573.44 194.56h245.76z m-378.89024 20.48h-225.28v225.28h225.28V215.04z m368.64 0h-225.28v225.28h225.28V215.04z",fill:"#e96969","p-id":"5143"})],-1)),Yt=[Rt],Gt=["onClick"],Ot={class:"item_inner_box f f_d_r"},Pt=["src"],Jt={key:1,class:"item_img",src:"https://pic.imgdb.cn/item/65c5a15f9f345e8d03c1f6a4.jpg",alt:""},Qt={class:"item_content f f_d_c"},Wt={class:"r title f f_d_r a_c"},Xt={class:"item_classification r"},Zt=["innerHTML"],te={class:"date f f_d_r justify_content_center"},ee={class:"a tag_box f f_d_r"},se={class:"topic_grid_box f f_d_r"},oe={class:"topic_grid_inner_box margin_0_auto f f_d_r warp"},ae=["onClick"],_e={class:"img_box r"},le=["src"],ie={key:1,src:"https://pic.imgdb.cn/item/65c5a15f9f345e8d03c1f6a4.jpg",alt:""},ne={class:"topic_item_inner_grid f f_d_c"},ce={class:"f f_d_r a_c"},re={class:"classification_box"},de={class:"date r f f_d_r a_c"},fe={class:"topic_title"},ue=["innerHTML"],pe={class:"tags_box f f_d_r"},he={class:"personal_box f f_d_c"},ve={class:"personal_item intro f r f_d_c a_c"},ge=d(()=>t("div",{class:"avatar_bg a"},null,-1)),me=["src"],ye=["textContent"],be=["textContent"],we={class:"width_full f f_d_r"},xe={class:"topic_classification_total_box f f_d_c a_c"},ke=d(()=>t("h3",null,"文章",-1)),Le=["textContent"],Ce={class:"topic_classification_total_box f f_d_c a_c"},ze=d(()=>t("h3",null,"分类",-1)),Me=["textContent"],Te={class:"personal_item new_topic_box f f_d_c a_c"},He=d(()=>t("h3",{class:"l_title r"},"最新文章",-1)),qe={class:"f f_d_c"},Se=["onClick"],Ve={class:"new_topic_date"},$e={class:"personal_item classification_box f f_d_c a_c"},Ae=d(()=>t("h3",{class:"l_title r"},"分类",-1)),je={class:"f f_d_c"},De=["onClick"],Ie={class:"personal_item site_info_box f f_d_c a_c"},Be=d(()=>t("h3",{class:"l_title r"},"网站信息",-1)),Ee={class:"f f_d_c"},Fe=d(()=>t("li",null,[t("span",null,"网站名称: Tiny Flowers")],-1)),Ue={class:"topic_list_foot r f f_d_r a_c justify_content_center"},Ke={class:"left_foot f f_d_c justify_content_center"},Ne=d(()=>t("span",{class:"title_foot"},"人生格言",-1)),Re=["innerHTML"],Ye=d(()=>t("div",{class:"mid_foot f f_d_c"},[t("span",{class:"title_foot"})],-1)),Ge={class:"right_foot f f_d_c justify_content_center"},Oe=d(()=>t("span",{class:"title_foot"},"联系我",-1)),Pe={class:"text_foot"},Je={class:"text_foot"},Qe={class:"text_foot"},m=12,tt="2024-01-05 11:01:01",We={__name:"TopicList",setup(y){const{params:q}=mt(),b=yt(),h=bt(),u=wt(),{theme:et}=K(b),{layout:st}=K(b),{list_layout:I}=K(b),B=xt();b.$subscribe((s,o)=>{Z(o.theme),Y(o.layout),N(o.list_layout)}),J(()=>{}),kt(()=>{ot(),document.addEventListener("click",R)});const N=s=>{const o=document.querySelectorAll(".layout"),l=document.querySelector(".topic_grid_box");s?(o[0].classList.add("layout_active"),o[1].classList.remove("layout_active"),l.style.transform="translateY(-128px)",l.style.opacity=.5):(o[1].classList.add("layout_active"),o[0].classList.remove("layout_active"),l.style.transform=" translateY(0)",l.style.opacity=1)},R=s=>{document.querySelector(".topic_search_box").contains(s.target)||(C.value=!1)},ot=()=>{window.scrollTo(0,0),Y(st.value),Z(et.value),N(I.value),w=Array.from(document.querySelectorAll(".topic_item")),document.addEventListener("scroll",k),k(),O(tt)};let w=[];const Y=s=>{const o=document.querySelector(".topic_box"),l=document.querySelector(".topic_grid_inner_box");s?(o.style.width="866px",E.value=!0,l.style.width="866px"):(o.style.width="1100px",E.value=!1,l.style.width="1100px")},k=()=>{for(let s=0;s<w.length;s++){let o=w[s];o.offsetTop-window.innerHeight<=window.scrollY&&(o.style.opacity="1",o.classList.add("item_animation"))}},at=()=>{for(let s=0;s<w.length;s++){let o=w[s];o.style.opacity="0",o.classList.remove("item_animation")}};Lt(()=>{document.removeEventListener("scroll",k),clearInterval(dt),document.removeEventListener("click",R)}),J(()=>{_t()});const E=v(!0),x=v(),L=v({total:0,page_size:m,current_index:q.page}),_t=()=>{h.select_all_from_classification(q.classification),at(),x.value=h.current_data,lt(x.value,q.page),Q(()=>{w=Array.from(document.querySelectorAll(".topic_item")),document.addEventListener("scroll",k),k()})},lt=(s,o)=>{o*m>=s.length?x.value=s.slice(o*m-m):x.value=s.slice((o-1)*m,(o-1)*m+m),L.value.total=s.length},F=s=>{B.push(s)},it=s=>{B.push(`/article/list/${q.classification}/`+s),Q(()=>{window.scrollTo(0,0),L.value.current_index=s})},nt=s=>{B.push(`/article/list/${s}/1`)},G=v(""),O=s=>{let o=new Date(s),f=new Date().getTime()-o.getTime(),e=Math.floor(f/(24*3600*1e3)),c=f%(24*3600*1e3),A=Math.floor(c/(3600*1e3)),j=c%(3600*1e3),z=Math.floor(j/(60*1e3));G.value=`${e}天${A}小时${z}分钟`},ct=()=>{let s=[];s=h.data.slice(0,4).map(U=>rt(U.create_date));let l=s.sort((U,vt)=>{let M=vt.split("-"),T=U.split("-");return new Date(M[0],M[1]-1,M[2],M[3],M[4])-new Date(T[0],T[1]-1,T[2],T[3],T[4])})[0].split("-"),f=new Date(l[0],l[1]-1,l[2],l[3],l[4]),c=new Date().getTime()-f.getTime(),A=Math.floor(c/(24*3600*1e3)),j=c%(24*3600*1e3),z=Math.floor(j/(3600*1e3)),pt=j%(3600*1e3),ht=Math.floor(pt/(60*1e3));return A==0&&z<24?z===0?ht+"分钟前":z+"小时前":A+"天前"},rt=s=>s.split("?")[0]+"-"+s.split("?")[1]+"-"+s.split("?")[2]+"-"+s.split("?")[3].split(":")[0]+"-"+s.split("?")[3].split(":")[1];let dt=setInterval(()=>{O(tt)},6e4);const S={classification_total:4,new_topic:h.data.slice(0,4),site_info:{name:"Tiny Flowers",run_time:G,last_update:ct()}},ft=s=>{window.event?s.keyCode:s.which},V=v([]),$=v();Ct($,(s,o)=>{if(s==""){V.value=[],C.value=!1;return}C.value=!0,V.value=[];const l=performance.now();P(h.get_all(),0,s);const f=performance.now(),e=document.querySelector(".query_text"),c=f-l;e.innerHTML="查询耗时: "+c+"ms"});const P=(s,o,l)=>{if(o>s.length-1)return;l.toLowerCase();let f=Math.min(10,s.length-o);window.requestAnimationFrame(()=>{for(let e=0;e<f;e++)s[o+e].title.toLowerCase().indexOf(l)==-1&&s[o+e].tags.toLowerCase().indexOf(l)==-1||V.value.push(s[o+e]);P(s,o+f,l)})},C=v(!1),ut=()=>{$.value.length!=0&&(C.value=!0)};return(s,o)=>{const l=W("Pagination"),f=W("Utils");return i(),n(p,null,[t("div",St,[t("div",Vt,[H(t("input",{id:"topic_search",class:"topic_search","onUpdate:modelValue":o[0]||(o[0]=e=>$.value=e),onFocus:ut,onInput:o[1]||(o[1]=(...e)=>s.filter_search_handle&&s.filter_search_handle(...e)),onKeyup:Mt(ft,["enter"]),type:"text",placeholder:"在此键入搜索"},null,40,$t),[[zt,$.value]]),At,H(t("div",jt,[t("ul",Dt,[(i(!0),n(p,null,g(V.value,e=>(i(),n("li",{key:e,onClick:c=>F(e.link)},_(e.title),9,It))),128))]),Bt],512),[[D,C.value]])]),t("div",Et,[t("div",Ft,[t("div",Ut,[t("div",{class:"layout list_layout r",onClick:o[2]||(o[2]=e=>r(b).change_g_list_layout(!0))},Nt),t("div",{class:"layout f a_c j_c_c grid_layout r",onClick:o[3]||(o[3]=e=>r(b).change_g_list_layout(!1))},Yt)]),(i(!0),n(p,null,g(x.value,e=>H((i(),n("div",{onClick:c=>F(e.link),key:e,class:"topic_item f f_d_c r"},[t("div",Ot,[e.img!=""?(i(),n("img",{key:0,class:"item_img",src:e.img,alt:""},null,8,Pt)):(i(),n("img",Jt)),t("div",Qt,[t("span",Wt,[t("span",Xt,_(e.classification),1),Tt(_(e.title),1)]),t("span",{class:"short_msg",innerHTML:e.short_message},null,8,Zt),t("div",te,_(r(u).name)+" / "+_(e.create_date.split("?")[1].replace(/^0+/,""))+"月"+_(e.create_date.split("?")[2].replace(/^0+/,""))+"日 / "+_(e.create_date.split("?")[0])+" / "+_(e.create_date.split("?")[3]),1)])]),t("div",ee,[(i(!0),n(p,null,g(e.tags.split("?"),c=>(i(),n("span",{class:"tag",key:c},"#"+_(c),1))),128))])],8,Gt)),[[D,r(I)]])),128)),t("div",se,[t("div",oe,[(i(!0),n(p,null,g(x.value,e=>H((i(),n("div",{onClick:c=>F(e.link),key:e,class:"topic_item_grid r"},[t("div",_e,[e.img!=""?(i(),n("img",{key:0,src:e.img,alt:""},null,8,le)):(i(),n("img",ie))]),t("div",ne,[t("div",ce,[t("span",re,_(e.classification),1),t("span",de,_(e.create_date.split("?")[0])+"-"+_(e.create_date.split("?")[1])+"-"+_(e.create_date.split("?")[2]),1)]),t("span",fe,_(e.title),1),t("span",{class:"topic_short_msg",innerHTML:e.short_message},null,8,ue),t("div",pe,[(i(!0),n(p,null,g(e.tags.split("?"),c=>(i(),n("span",{class:"tag_item",key:c},"#"+_(c),1))),128))])])],8,ae)),[[D,!r(I)]])),128))])]),X(l,{current_page:L.value.current_index,page_size:L.value.page_size,onCurrent_change:it,total:L.value.total},null,8,["current_page","page_size","total"])]),H(t("div",he,[t("div",ve,[ge,t("img",{src:r(u).avatar,class:"z_index_10",alt:""},null,8,me),t("span",{class:"personal_name z_index_10",textContent:_(r(u).name)},null,8,ye),t("span",{class:"personal_signature",textContent:_(r(u).signature)},null,8,be),t("div",we,[t("div",xe,[ke,t("span",{textContent:_(r(h).length())},null,8,Le)]),t("div",Ce,[ze,t("span",{textContent:_(S.classification_total)},null,8,Me)])])]),t("div",Te,[He,t("ul",qe,[(i(!0),n(p,null,g(S.new_topic,e=>(i(),n("li",{onClick:c=>s.$router.push(e.link),class:"f f_d_c",key:e.link},[t("span",null,_(e.title),1),t("span",Ve,_(e.create_date.split("?")[0])+"-"+_(e.create_date.split("?")[1])+"-"+_(e.create_date.split("?")[2]),1)],8,Se))),128))])]),t("div",$e,[Ae,t("ul",je,[(i(!0),n(p,null,g(r(h).classification,e=>(i(),n("li",{key:e,onClick:c=>nt(e),class:"f f_d_r"},[t("span",null,_(e),1)],8,De))),128))])]),t("div",Ie,[Be,t("ul",Ee,[Fe,t("li",null,[t("span",null,"存活时间: "+_(S.site_info.run_time.value),1)]),t("li",null,[t("span",null,"上次更新时间: "+_(S.site_info.last_update),1)])])])],512),[[D,E.value]])])]),X(f),t("div",Ue,[t("div",Ke,[Ne,t("span",{class:"text_foot",innerHTML:r(u).aphorism},null,8,Re)]),Ye,t("div",Ge,[Oe,t("span",Pe,"邮箱: "+_(r(u).e_mail),1),t("span",Je,"GitHub Account: "+_(r(u).github_account),1),t("span",Qe,"小红书ID: "+_(r(u).red_book_ID),1)])])],64)}}},Ze=gt(We,[["__scopeId","data-v-49a3d852"]]);export{Ze as default};
