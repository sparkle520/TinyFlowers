import{h as l,_ as at,k as ct,u as _t,s as H,a as rt,o as N,c as dt,b as ut,l as q,n as V,m as z,d as f,e as h,g as t,F as D,r as F,q as Y,w as pt,v as ft,t as o,x as I,p as ht,f as mt}from"./index-9c850928.js";import{d as i}from"./data-28655435.js";const G=m=>{m?(l("--bg_color","#0b0e14"),l("--color","#f7f7f7"),l("--item_bg","#242b3d"),l("--item_shadow","#242b34"),l("--title_color","#f7f7f7"),l("--title_af_bg","#a3a7c1aa"),l("--tag_box_bg","#2d3041"),l("--tag_bg","#9fa3bc"),l("--topic_classification_color","#5e6d78"),l("--topic_classification_num_color","#b5b9d6")):(l("--bg_color","#f7f3f5"),l("--color","#000000"),l("--item_bg","#ffffff"),l("--item_shadow","#cacaca4f"),l("--title_color","#173e6c"),l("--title_af_bg","#22113364"),l("--tag_box_bg","#dae6e7"),l("--tag_bg","#41a8a8"),l("--topic_classification_color","#173e6c"),l("--topic_classification_num_color","#e06530"))};const a=m=>(ht("data-v-68143b80"),m=m(),mt(),m),xt={id:"main",class:"flex flex-direction-row"},gt={class:"topic_box"},vt=["onClick"],wt={class:"item_inner_box margin_2_percent flex flex_direction_column"},bt={class:"relative title"},yt=["innerHTML"],kt={class:"date flex flex_direction_row justify_content_center"},Ct={class:"absolute tag_box flex flex_direction_row"},Mt={class:"tag"},Tt={class:"personal_box flex flex_direction_column"},$t={class:"personal_item intro flex flex_direction_column align_items_center"},Lt=["src"],St=["textContent"],qt=["textContent"],Dt={class:"width_full flex flex_direction_row"},It={class:"topic_classification_total_box flex flex_direction_column align_items_center"},Wt=a(()=>t("h3",null,"文章",-1)),At=["textContent"],Bt={class:"topic_classification_total_box flex flex_direction_column align_items_center"},Et=a(()=>t("h3",null,"分类",-1)),Ft=["textContent"],jt={class:"personal_item new_topic_box flex flex_direction_column align_items_center"},Pt=a(()=>t("h3",null,"最新文章",-1)),Rt={class:"flex flex_direction_column"},Ut=["onClick"],Ht={class:"new_topic_date"},Nt={class:"personal_item classification_box flex flex_direction_column align_items_center"},Vt=a(()=>t("h3",null,"分类",-1)),zt={class:"flex flex_direction_column"},Yt=a(()=>t("span",null,"学习笔记",-1)),Gt=a(()=>t("span",null,"技术分享",-1)),Jt=a(()=>t("span",null,"生活随想",-1)),Kt=a(()=>t("span",null,"二次元",-1)),Ot={class:"personal_item site_info_box flex flex_direction_column align_items_center"},Qt=a(()=>t("h3",null,"网站信息",-1)),Xt={class:"flex flex_direction_column"},Zt=a(()=>t("li",null,[t("span",null,"网站名称: Tiny Flowers")],-1)),r=10,J="2024-01-05 11:01:01",te={__name:"TopicList",setup(m){const{params:W}=ct(),A=_t(),{theme:K}=H(A),{layout:O}=H(A),x=rt();A.$subscribe((e,s)=>{G(s.theme),j(s.layout)}),N(()=>{}),dt(()=>{Q()});const Q=()=>{window.scrollTo(0,0),j(O.value),G(K.value),g=Array.from(document.querySelectorAll(".topic_item")),document.addEventListener("scroll",w),w(),U(J)};let g=[];const j=e=>{const s=document.querySelector(".topic_box");e?(s.style.width="60vw",s.style.margin="100px 0 0 60px",B.value=!0):(s.style.width="80vw",s.style.margin="100px auto 0 auto",B.value=!1)},T=[{name:"学习笔记"},{name:"技术分享"},{name:"生活随想"},{name:"二次元"}],w=()=>{for(let e=0;e<g.length;e++){let s=g[e];s.offsetTop<=window.scrollY+900&&(s.style.opacity="1",s.classList.add("item_animation"))}},X=()=>{for(let e=0;e<g.length;e++){let s=g[e];s.style.opacity="0",s.classList.remove("item_animation")}};ut(()=>{document.removeEventListener("scroll",w),clearInterval(st)}),N(()=>{P()});const B=q(!0),E=q([]),d=q({total:0,page_size:r,current_index:W.page}),P=()=>{switch(W.classification){case"学习笔记":$(i.study,d.value.current_index);break;case"技术分享":$(i.technique,d.value.current_index);break;case"生活随想":$(i.life,d.value.current_index);break;case"二次元":$(i.acg,d.value.current_index);break}X(),V(()=>{g=Array.from(document.querySelectorAll(".topic_item")),document.addEventListener("scroll",w),w()})},$=(e,s)=>{s*r>=e.length?E.value=e.slice(s*r-r):E.value=e.slice((s-1)*r,(s-1)*r+r),d.value.total=Math.ceil(e.length/r)},Z=e=>{x.push(e)},tt=e=>{switch(W.classification){case"学习笔记":x.push("/unknownWorldMap/list/学习笔记/"+e);break;case"技术分享":x.push("/unknownWorldMap/list/技术分享/"+e);break;case"生活随想":x.push("/unknownWorldMap/list/生活随想/"+e);break;case"二次元":x.push("/unknownWorldMap/list/二次元/"+e);break}V(()=>{window.scrollTo(0,0),d.value.current_index=e,P()})};let b=[];(()=>{b.push(i.life[0]),b.push(i.study[0]),b.push(i.technique[0]),b.push(i.acg[0])})();const L=e=>{x.push(`/unknownWorldMap/list/${e}/1`)},R=q(""),U=e=>{let s=new Date(e),v=new Date().getTime()-s.getTime(),n=Math.floor(v/(24*3600*1e3)),u=v%(24*3600*1e3),p=Math.floor(u/(3600*1e3)),y=u%(3600*1e3),k=Math.floor(y/(60*1e3));R.value=`${n}天${p}小时${k}分钟`},et=()=>{let _=[S(i.life[0].date),S(i.study[0].date),S(i.technique[0].date),S(i.acg[0].date)].sort((ot,it)=>{let C=it.split("-"),M=ot.split("-");return new Date(C[0],C[1]-1,C[2],C[3],C[4])-new Date(M[0],M[1]-1,M[2],M[3],M[4])})[0].split("-"),v=new Date(_[0],_[1]-1,_[2],_[3],_[4]),u=new Date().getTime()-v.getTime(),p=Math.floor(u/(24*3600*1e3)),y=u%(24*3600*1e3),k=Math.floor(y/(3600*1e3)),nt=y%(3600*1e3),lt=Math.floor(nt/(60*1e3));return p==0&&k<24?k===0?lt+"分钟前":k+"小时前":p+"天前"},S=e=>e.split("?")[1]+"-"+e.split("?")[0].split("月")[0]+"-"+e.split("?")[0].split("月")[1].split("号")[0]+"-"+e.split("?")[2].split(":")[0]+"-"+e.split("?")[2].split(":")[1];let st=setInterval(()=>{U(J)},6e4);const c={img:"https://pic.imgdb.cn/item/659e63dc871b83018a2d7de3.jpg",name:"花降らし",signature:"人一旦失去重要的东西，就很难再获得了",topic_total:i.length(),classification_total:4,new_topic:b,site_info:{name:"Tiny Flowers",run_time:R,last_update:et()}};return(e,s)=>{const _=z("Pagination"),v=z("Utils");return f(),h(D,null,[t("div",xt,[t("div",gt,[(f(!0),h(D,null,F(E.value,(n,u)=>(f(),h("div",{onClick:p=>Z(n.link),class:"topic_item flex flex_direction_column relative"},[t("div",wt,[t("div",null,[t("span",bt,o(n.title),1)]),t("span",{class:"short_msg",innerHTML:n.short_message},null,8,yt),t("div",kt," sparkle / "+o(n.date.split("?")[0])+" / "+o(n.date.split("?")[1])+" / "+o(n.date.split("?")[2]),1)]),t("div",Ct,[(f(!0),h(D,null,F(n.tags.split("?"),(p,y)=>(f(),h("span",Mt,o(p),1))),256))])],8,vt))),256)),Y(_,{onPage_change:tt,class:"pagination",data:d.value},null,8,["data"])]),pt(t("div",Tt,[t("div",$t,[t("img",{src:c.img,alt:""},null,8,Lt),t("span",{class:"personal_name",textContent:o(c.name)},null,8,St),t("span",{class:"personal_signature",textContent:o(c.signature)},null,8,qt),t("div",Dt,[t("div",It,[Wt,t("span",{textContent:o(c.topic_total)},null,8,At)]),t("div",Bt,[Et,t("span",{textContent:o(c.classification_total)},null,8,Ft)])])]),t("div",jt,[Pt,t("ul",Rt,[(f(!0),h(D,null,F(c.new_topic,n=>(f(),h("li",{onClick:u=>e.$router.push(n.link),class:"flex flex_direction_column",key:n.link},[t("span",null,o(n.title),1),t("span",Ht,o(n.date.split("?")[1])+"-"+o(n.date.split("?")[0].split("月")[0])+"-"+o(n.date.split("?")[0].split("号")[0].split("月")[1]),1)],8,Ut))),128))])]),t("div",Nt,[Vt,t("ul",zt,[t("li",{onClick:s[0]||(s[0]=n=>L(T[0].name)),class:"flex flex_direction_row"},[Yt,t("span",null,o(I(i).study.length),1)]),t("li",{onClick:s[1]||(s[1]=n=>L(T[1].name)),class:"flex flex_direction_row"},[Gt,t("span",null,o(I(i).technique.length),1)]),t("li",{onClick:s[2]||(s[2]=n=>L(T[2].name)),class:"flex flex_direction_row"},[Jt,t("span",null,o(I(i).life.length),1)]),t("li",{onClick:s[3]||(s[3]=n=>L(T[3].name)),class:"flex flex_direction_row"},[Kt,t("span",null,o(I(i).acg.length),1)])])]),t("div",Ot,[Qt,t("ul",Xt,[Zt,t("li",null,[t("span",null,"存活时间: "+o(c.site_info.run_time.value),1)]),t("li",null,[t("span",null,"上次更新时间: "+o(c.site_info.last_update),1)])])])],512),[[ft,B.value]])]),Y(v)],64)}}},le=at(te,[["__scopeId","data-v-68143b80"]]);export{le as default};
